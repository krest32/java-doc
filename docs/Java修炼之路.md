# 编程概述

## 产品信息化发展

2020年后，信息化产业链会推动社会信息的进一步发展

维度一：经济的新形势

+ 宅经济
+ 远程化
+ 零接触

维度二：信息产业化迅速升级

+ 基建：人工智能、云计算、物联网、`5G`
+ 大数据分析：政企数据、商业数据、消费者数据
+ 创新与变革：政府决策、商业创新、消费者应用

总结：未来产业，个人会更加看好大数据、人工智能，它也是国家战略性的产业，所以是重中之重，同时计算机也在为传统行业进行数据化赋能，不过大数据行业仍然依托于业务的电子信息化，未来随着科技与业务的发展，技术领域会越来越细分化，而每个时期都会有不同的科技或产业发展重点。



## 各类编程语言

### 编程语言特点

​		概述：不同的语言存在，目的就是为了处理某种特定的问题，随着时间的推移，可能会产生某些新的语言，同样可能没落某种旧的语言，所以，适应时代的需求才是最重要的，同时因为语言的存在，会开发出各式各样功能性的软件，然后由此产生新的行业，所以语言本身只是工具，能够解决问题的人才是最关键的。

1. `JavaScript` 前端最流行的语言
2. `TypeScript` 是 `JS` 的超集，能够完全的兼容 `JS`，并在 `JS` 的基础上进行功能扩展，目前也是前端的必备语言之一
3. `Python` 日常的生活问题、脚本类语言非常合适，因为类库多，也被用于人工AI领域>机器学习>深度学习等领域，因为不需要太高的性能，而且python本身包含很多的数学模型计算公司，所以Python很流行，尤其在职能领域，当下随着人工智能的火热，Python已经登榜最热门语言
4. `Java` 性能不错，同时支持网络编程，所以主要适合Web后端开发，构建大型应用系统，但是缺点是编译慢，运行时需要的内存比较高
5. `C`、`C++ `操作系统资源调用 ，用作核心系统组件，操作系统资源
6. `Go` 类似于 `C` `C++`，设计的时候就是为了取代前两者，比 `C`、`C++` 更加简单，目前`Go` 主要有两种方向（主要还是使用到了go的语言特性）
   1. 基本应用组件开发：`K8s`、 `istio`
   2. 核心高并发业务，
7. `R` 数据分析、科学计算，这个语言的安全性很高，难度也比较大，会用于比较小的项目

### 各类语言场景

| 语言       | 描述                                   |
| ---------- | -------------------------------------- |
| Java       | 业务代码、大数据领域                   |
| C、C++     | 底层热门语言                           |
| Python     | 万能的胶水语言、人工智能方面           |
| Go         | 简化的C、C++，云原声、核心模块的高并发 |
| JavaScript | 前端必备语言                           |





# 后端部分

## 第一章 语言基础

### Java SE

#### 基础

1. 谈谈你对 Java 的理解？
   1. 概念、特点
   2. 对比其他语言
   3. 应用场景
2. `Jdk 1.5`之后的三大版本？
3. `JVM`、`JDK`、`JRE `都有什么区别？
4. 为什么说Java语言编译与解释共存？
5. `Java`程序执行的顺序是什么样的？
6. Orcale JDK 与 Open JDK 之间的区别？
7. `JDK 8` 的主要特性有哪些呀？
8. 为什么要固守使用 `JDK 8`？对比 `JDK 11`？对比 `JDK 17` ?
9. 可以说一下对于 JDk 19 的了解么？
10. `Java` 的八种基本数据类型有哪些？
11. 最有效的计算2乘以8？
12. `switch` 能否用在`String`上？那么`Long`呢？为什么不支持`Long`？
13. `null`是什么？
14. Java语言采用的编码方案？
15. 什么是不可变类？常见的不可变类有哪些？
16. 什么是数组？数组有哪些特点？
17. 对于 `final` 关键字的理解？
18. 对于 `static` 关键字的理解？
19. `this` 和`super`之间的区别是什么？
20. `==` 和 `equal` 之间的区别？
21. 对象比较时，为什么要重写 `Equal()`  方法后，一定要重写 `hashcode()` 方法？
22. `String` 为什么会比 `StringBuilder` 慢？
23. `String`为什么要设计为不可变类？
    1. 线程安全
    2. 哈希值唯一，用作Map的key可以避免重新计算hash值
    3. 提高常量池的可用性，多个引用可以指向同一个字符串，大大节省了内存
24. JDK9 为何要将*String*的底层实现由*char*[\]改成了*byte*[]

#### 枚举

1. 谈谈你对于枚举的理解？
   1. 什么是枚举？
   2. 枚举有什么特点？
   3. 枚举可以做哪些事情？

2. 枚举在你的工作中是如何被使用的？

#### 面向对象

1. 谈谈对于面向对象的理解
   1. 什么是面向对象？（顺便解释面向过程，以及二者之间的区别）
   2. 面向对象编程的6大原则？
2. 为什么要有基本数据的包装类？
3. `Integer` 缓存池有了解过么 ？
4. `new Integer` 和 `Integer.valueOf()` 之间的区别是什么？一般在项目中哪一个？
5. `Integer`采用了使用了什么设计模式？
6. 接口和抽象类的区别？
7. 谈谈`API`和`SPI`之间的区别？
8. 成员变量和局部变量之间的区别是什么？
9. 在调用子类构造方法之前会先调用父类没有参数的构造方法，其目的是？
10. 静态变量、构造方法、成员变量三者的加载顺序？
11. 对象实例和对象引用之间的区别是什么？
12. 什么是内部类？为什么要有内部类？
13. 局部内部类的分类有哪些？
14. 构造方法是否可以被重写？可以被重载么？
15. `Java` 使用的值传递还是引用传递？二者有什么区别
16. Java中常用的包有哪些？
    1. `java.lang`：这个是系统的基础类；
    2. `java.io`：这里面是所有输入输出有关的类，比如文件操作等；
    3. `java.nio`：为了完善 io 包中的功能，提高 io 包中性能而写的一个新包；
    4. `java.net`：这里面是与网络有关的类；
    5. `java.util`：这个是系统辅助类，特别是集合类；
    6. `java.sql`：这个是数据库操作的类。


#### IO流

1. 谈谈你对于IO有哪些认识？
   1. 什么是 I/O ？
   2. I/O 流主 要有哪些分类？
   3. 使用 I/O 的注意事项？

2. 什么是缓存区？有什么作用
3. `BIO`、 `NIO`、`AIO` 是什么？有什么区别？
4. `BIO`、`NIO`的使用场景？
5. 字符流与字节流有什么区别，用到了什么设计模式？
   1. 字符流拥有缓存区
   2. 字符流方便我们操作数据 
6. 多路复用 `I/O` 模型的概念？它有什么局限性？
7. 谈谈你对Linux的五种IO模型分别是什么？
   1. Linux的多路复用IO有哪几种？
   1. Linux的多路复用IO有哪些种类？epoll 为什么性能高？

      1. select 和 poll 都是基于轮询的方式
   2. epoll 基于事件驱动的方式，性能比前两者更高一些
   1. 信号驱动IO与多路复用IO之间的区别

8. Reactor IO 的重要组件？

9. Reactor IO 模型三种分类？
   1. 单线程单Reactor模型
   2. 多线程单Reactor模型
   3. 主从多线程Reactor模型


#### 序列化与反序列化

1. 谈谈对于序列化的理解？
   1. 序列化有什么用？`serivalVersionUUID` 作用？ 
   2. `transient` 的作用？
   3. 被`transient `修饰变量的初始值会是什么？
   4. `Java` 序列化的缺点有哪些？

2. 分布式系统序列化的发展历史？
   1. Soap+Xml
   2. Restful + Json
   3. 二进制高效率

#### 反射

1. 对于反射的理解，应用场景有哪些？
2. 反射的优缺点有哪些？
3. 获取反射的3种方法？
4. 如何提高反射的效率 ？

#### 常用 Api

1. 说一说Java中Date类的缺陷？
2. 说一说Date、Calendar、LocalDateTime三者之间的区别？
3. 为什么 SimpleDateFormat 线程不安全

#### 日志

1. 为什么要使用日志框架？
2. 日志的输出级别有哪些？
3. 最近关于 `log4j2` 的`bug`有了解过么？
4. 漏洞补救措施，漏洞解决措施？
5. 为什么要是用Slf4j日志门面？

#### 异常

1. 谈谈你对`Java` 异常的理解？
   1. 什么是异常？
   2. 异常有哪些分类？
   3. 常见的异常有哪些？
   4. 异常的处理方案？

2. Finally 语句一定会被执行么？
3. 你们系统中异常是如何处理的？
4. `try... catch.... finally` 中 ` finally`  使用 `return` 为什么是禁止的 ？
5. 如果 finally 中发生了异常，会怎么办？（try 的语句会执行，finally的语句会抛出异常）
6. throw 和 throws 的区别是什么？
7. 说说你经常遇到的异常有哪些？
8. 生产中，异常的最佳生产实践
   1. finally中释放资源
   2. 优先处理明确的异常
   3. 不要忽略异常
   4. 不要记录并抛出异常（经常被忽略）
   5. 使用标准异常
   6. 异常会影响性能

#### 泛型

1. 什么是泛型？
2. 为什么要使用泛型？
3. 常用通配符代表的含义 (`T` `?` `K V` `E`)?
4. 什么是类型擦除？为什么会存在类型擦除？又有哪些局限性？
5. 如何在`List<Integer>`中插入字符串或者浮点数？   

### 集合容器

1. 谈谈你对 `java.util` 集合框架的理解？
   1. 什么是集合框架？-
   2. Java.util包下，有哪些集合框架？

2. 集合底层的数据结构是什么样子的？
3. 集合和数组的区别？（长度、存储类型、性能）
4. 常用的集合有哪些？
5. `List` 、`Set`、`Map` 之间有什么区别？
6. 哪些集合类是线程安全的？
7. 关于`FastFail`机制是什么？它有什么作用 ？
8. 怎么确保一个集合不能被修改？
9. 谈谈你对于iterator的理解？
10. 如何边遍历边移除 Collection 中的元素？
11. `ArrayList` 与 `LinkedList` 之间的区别?
12. `ArrayList` 的插入删除性能一定会比 `LinkedList` 慢么？
13. `ArrayList` 和` Vector `的区别是什么？
14. 为什么 `ArrayList` 的` elementData` 加上 `transient`修饰？
    + 重写了`writeObject `方法，只序列化已存入的元素，这样加快了序列化的速度
15. List 和 Set 之间的区别是什么？
16. Queue是什么？
17. BlockingQueue 是什么？
18. Queue中的poll()、remove()、take()方法有什么区别？
19. 什么是哈希？
20. 解决哈希冲入都有哪些方式呀？（四种）
21. 谈谈 `HashMap` 的原理？
22. 说一下`HashMap`的几个参数：负载因子、初试容量？
23. 为什么不之间使用 `HashCode` 作为 table 下标？
24. `HashMap` 的 扩容流程？
25. 为什么`HashMap`扩容时候，是原本大小的2倍？
26. 为什么负载因子是0.75？
27. `HashMap`在扩容上有哪些优化？
    + 1.7以前都需要重新计算哈希，
    + 1.8以后，借助2备扩容机值，不需要重新计算哈希值，低位元素在原来位置，高位元素在原来位置+原来容量的大小
28. `HashMap`中的链表转化红黑树需要哪两个条件？
29. 为什么`String`和`Integer`适合作为`Map`的`Key`?
30. 可以使用`Object`对象作为`key`么？
31. 关于 `TreeMap` 的理解说一下？新元素插入需要提起准备什么？
32. HashMap的那些操作会导致线程不安全？
33. `HashTable` 中 `key` `value` 为什么不能为`null`，而 `HashMap` 中却可以？
34. `HashTable`与`HashMap`之间的区别是什么？
35. `CopyOnWriteArrayList` 的具体实现原理 ？
36. `ConcurrentHashMap` 的底层实现原理 ？
37. 什么是迭代器 ？为什么要使用迭代器？
38. 使用迭代器的好处是什么？

### 网络编程

1. 什么是网络编程？

2. 概念理解：`IP`、端口、`URI`、`URL`分别是什么？
3. 什么是网路协议分层，为什么要进行协议分层？
4. `TCP`、`UDP` 区别？

   1. TCP通常应用层协议：http、https、FTP、SMTP、SSH
   2. UDP通常应用层协议：NTP（适用于网络同步）、DHCP（动态路配置IP地址由）

5. `TCP/IP` 五层协议是什么？对应的每一层干了什么？比如应用层、传输层、网络层？
6. 常见的运行在TCP、UDP之上的协议有哪些？
7. 三次握手与四次握手？

   1. 四次握手等待2ML的原因
   2. 建立可靠连接，确保数据传输完毕

8. 如果连接的过程中，连接中断了，怎么办？
9. `TCP` 报文有了解过么？
10. 什么是`Http`协议?
11. 什么是`Soap`协议？
12. 谈谈你对于`Http` 请求方式的理解（4中请求方式）？主要：`Get/Post`
13. 常见的`Http`请求状态码？比如 400、401、403、404、501、502、503
14. 一次完整的`Http`请求是什么样子？
15. 对称加密和非对称加密？
16. `SSL`和`TLS`之间的关系？
17. 简述`SSL`的工作方式？（SSL能让客户端和服务端非常有效的完成相互之间的认证工作）
18. 什么是`Http2`？
19. `Session`、 `Cookie`、`Token`三者之间的区别是什么？
20. 谈谈你对`WebSocket`的理解有哪些？
21. 什么是 `Socket` ？
22. 什么是 `Servlet` ？它是线程安全的么？它的生命周期？
23. 计算机有多少个端口？



### 并发编程

#### 概念

1. 为什么要用并发编程？同时结合优点缺点进行分析

2. 一个程序开多少线程会比较合适？

   要考虑整个业务的任务类型：IO密集型，CPU密集型

3. 并发编程三要素？

4. 出现三要素问题的原因是什么？解决方案有哪些 ？

5. 并行、并发和串行？

6. 多线程有哪些优劣？

7. 进程、线程、上下文切换（步骤、原因）？

8. 守护线程和工作线程之间的区别？

9. 线程死锁？形成死锁的四个必要条件？

10. 如何避免线程死锁？


#### 线程相关

1. 创建线程的几种方式？
2. `runnable` 接口与`callable`接口之间的区别？
3. `run()` 和`start()`之间的区别？
4. 两次调用`start()`的结果？
5. `Callable`、`Future`、`FutureTask `的区别 ？ 
6. `Future`、`FutureTask` 与 `Completefutere` 的区别？
7. 线程的生命周期及五种状态？
8. 线程的调度算法的两种？
9. 请说出与线程同步以及线程调度相关的方法？
10. 常用的线程操作方法 `sleep` 、`wait`、`notify`、`notifyAll`，简单聊一下他们的使用？
11. 为什么`wait`、`notify`、`notifyAll`是 `Object`方法？
12. 关于 `sleep() `方法 与 `yeild()` 方法有什么区别？
13. 什么时候使用`join()`方法
14. 什么情况下会终止正在运行的线程？
15. 如何正确停止一个正在运行的线程？
16. `interrupted()` 和 `stop()`方法有什么区别？
17. 如何实现多线程之间的通讯和协作（两种方案）？
18. 线程死锁的理解？

#### 锁相关

1. 线程死锁的解决方案？
2. 什么是线程安全？
3. 如何保证线程安全？（3种方法）
4. 线程过多会导致什么问题？
5. 什么是锁消除？
6. 什么是锁的自旋？
7. 重量级锁的实现原理？
8. 什么是锁的升级？
9. synchronized 、volatile、CAS对比
10. synchronized 与 lock 区别？
11. 谈谈你对 `AQS` 的理解吧？主要是它的一个实现原理？
12. Atomic 的运行原理 ？`CAS` 原理是什么？ 
13. `ABA`问题？
14. `CAS`带来的其他问题？
    1. 循环时间过长
    2. `ABA`问题 -> `AtomicStampedReference `
    3. 只能保证一个共享变量的原子操作
15. 死锁、活锁、饥饿的区别？
16. 并发工具类Semaphore、`CountDownLatch`、`CyclicBarrier` 之间的区别？
17. 线程 B 怎么知道线程 A 修改了变量？ 线程之间的通信 （好多种方案）
    1.  volatile
    2. static
18. `volatile` 如何实现共享变量多线程的可见性？
19. `volatile` 如何实现`happens-before`规则？（内存屏障）
20. CPU 缓存原理

#### 线程池相关

1. 线程池的 7 大参数？核心线程可以被销毁么？
2. `submit`和`excute`有什么区别？
   1. submit 执行 callable，submit 可以有返回值、异常
   2. excute 执行 runnable、excute 没有返回值异常
3. 关闭线程池以及马上关闭线程池的方法是什么？它们之间有什么区别？
   1. `Showdown()`
   2. `Terminated()`
   3. `ShutdownNow()`
4. 线程池的饱和策略有哪四种？
5. 新任务到线程池以后，它的运行流程怎么样？

#### 并发工具类

1. 并发工具类？
   1. `CountDownLatch`
   2. `CyclicBarrier`
   3. `Semaphore`
2. `int++`是线程安全的么？
3. `ThreadLocal`的使用场景？
4. 关于 `ThreadLocal` 可能引发的内存泄漏的问题，原因是什么？
5. `ForkJoin` 有用过么？思想是什么？

#### 其他

1. AQS原理
   1. 工作流程是怎么样的？
   2. 为什么使用双端队列？
      1. 判断前置节点是否异常不需要从头部节点开始
      2. 移除异常的线程不需要从头部节点开始
      3. 如果是公平锁，那么单向链表实现自旋会非常麻烦，因为自旋的线程需要从尾部开始去加入，效率低下

### JVM

#### 基础概念

1. 谈谈你读JVM的理解？（概念、作用、发展历史、现如今发展趋势）
2. 常见的商用虚拟机？阿里JVM的特点？
   1. `IBM j9`
   2. `JRockit`
   3. `HosSpot`
   4. `TaoBbao JVM`
   5. `graavl VM`

#### JVM 内存区域

1. 谈谈 `JVM`主要组成部分和作用？
2. 运行是数据区都有哪些部分组成？各自都有什么功能？
   + 堆、栈、本地方法栈、方法区、程序计时器
3. `JVM`的运行流程是什么？
4. 堆和栈的区别是什么？
5. 方法区
   1. 方法区的作用
   2. 方法区的`GC`机制有什么特点？
6. 常量池
   1. 常量池的三种分类？
   2. 三种常量池分别存放了什么东西？
   3. 常量池各自的存放位置在哪？
   4. 字符串常量池为什么会被放在堆空间中？
7. 为什么叫 `HotSpot`？

#### 对象信息

1. 谈谈对象的创建过程 ？
2. 头里面都存放了哪些信息？（至少4种信息）
3. 对象的组成部分是怎么样的？
4. 一个空的Java对象占多大内存？
5. 对象访问的两种方法？
6. 什么是直接内存？
7. 直接内存和堆内存的区别？

#### 垃圾回收

1. 内存泄漏和内存溢出的区别？
2. 内存溢出常见的原因有哪些？
3. 根可达的位置有哪些？4种
4. 四种引用类型的区别？
5. 谈谈你对`GC`的理解（概念、作用、发展趋势、主流方向）？
6. 促发`Full GC`的条件有哪些？
7. 垃圾回收算法有哪些？
8. 简述一下分代算法？
9. 为什么对象的年龄的默认值是15，才可以升级老年代？
10. `CMS`工作流程是什么样子的？
11. 什么是三色标记法？（代表对象被清理的过程）
12. `STW` 一般发生在程序的什么时候 ？
13. `G1` 的算法原理是什么？相比分代算法的优势？对比`CMS`又有什么样的特点？
14. 了解过 `ZGC` 么？（专门针对超大数据量的垃圾回收器）
15. 什么是`GC`的吞吐量？（一次尽可能多的回收垃圾）
16. 什么是`GC`的低延迟？（每次回收垃圾的时间都很短）
17. 在配置垃圾回收器的时候，场景该如何配置？

#### 类加载器

1. `Java`为什么解释与编译并行？
2. 什么时候，会判断当前代码是热点方法？
3. 谈谈你对类加载机制的了解？
4. 有哪些类加载器？
5. 为什么是双亲委派机制？类加载的流程？
6. 为什么要自定义类加载器？
7. 如何自定义类加载？
8. 什么情况下虚拟机会退出？

#### 常用参数调优

1. 为什么要进行 `JVM` 调优？
2. 常见的`JVM`调优参数有哪些？
3. JVM的性能调优原则？
   + 多数的java应用不需要GC优化，因为虚拟机本事已经有很多优化来保证应用的稳定运行
   + 应用上线之前，先将机器的JVM参数设置到适合状态
   + 进行GC优化之前，先保证当前项目的架构和代码已经没有优化空间了，我们不能指望一个系统架构或者代码的缺陷，来通过GC优化使性能达到一个质的飞跃
   + GC优化是一个系统而复杂的工作，没有万能的调优策略，GC优化必须建立在对各种垃圾回收器的深入理解之上，才能达到事半功倍的效果
   + 在这三个属性（吞吐量、延迟、内存）中选择两个进行JVM调优，称之为GC调优的3选2
4. 什么情况下需要调优？
   1. 老年代持续上涨，直到OOM
   2. Full GC 频繁
   3. 应用异常占用大量内存
   4. 等等......

5. 说一说常见的`JVM`调优的方案？

#### 虚拟机异常

1. 如何解决线上频繁GC的问题？
   1. full Gc 过多？ 通过 jstack
   2. CPU 过高？ 死循环？
   3. 接口耗时？

2. `Dump` 文件分析
3. `Arthas`使用？
   1. 常见的问题？
      1. 是否有一个全局视角来查看系统的运行状况？
      2. 为什么 CPU 又升高了，到底是哪里占用了 CPU ？
      3. 运行的多线程有死锁吗？有阻塞吗？
      4. 程序运行耗时很长，是哪里耗时比较长呢？如何监测呢？
      5. 这个类从哪个 jar 包加载的？为什么会报各种类相关的 Exception？
      6. 我改的代码为什么没有执行到？难道是我没 commit？分支搞错了？
      7. 遇到问题无法在线上 debug，难道只能通过加日志再重新发布吗？
      8. 有什么办法可以监控到 JVM 的实时运行状态？
   2. 常用指令？
      + trace：统计调用链的用时占比
      + watch：观察方法的入参与出参信息
      + jad：反编译`java`代码
      + stack: 查看方法的调用路径

#### JVM实践

每天100w次登陆请求，如何设置JVM参数？

#### Class 文件解析

1. 魔数（识别文件类型） -> 判断是否是 java 文件
2. 版本号 -> 确认 jdk 的版本
3. 常量池（常量池大小+常量池内容） -> 存储类的一些基本数据
4. 类的访问控制权限
5. 类名信息
6. 接口信息（接口个数+接口内容）
7. 属性信息（属性数量+属性的值）
8. 成员方法信息（成员方法个数+成员方法的值（Code+Exception））

### 数据类型

#### 1. `Json`

1. 什么是 `Json`？
2. `Json` 对比 `Xml` ？

#### 2. `Xml`

1. 什么是`Xml`？
2. `Xml` 有什么特点？

#### 3. `Csv`

1. 什么是 `Csv` ？
2. `Csv` 有什么特点 ？

#### 4. `Xlsx`

#### 5. `Yml`

1. 什么是`Yml`？
   1. `yml`严格的空格反而不适合在设备之间进行传输

2. `Yml` 对比 `Properties` 的优点？
3. `Yml` 缩进只能使用 空格，不能使用 `Tab`

#### 6.`Properties`

1. 什么是`Properties`？
2. 它有什么特点？

#### 7.`ProtoBuf`

1. 什么是`protobuf`?
2. 对比其他数据格式的特点？
3. 使用场景主要有哪些？



### 测试

#### `junit`

#### `spring-boot-test`

#### `JMH`





### Linux

1. 谈谈不同操作系统的区别？ 
   + `windows server` 、`linux`、`unix`
2. 不同版本的`linux`区别？
   + `ubuntu`、`centos`
3. `linux`中常用的目录有哪些？
   + `bin`  `sbin`  `etc` `usr` `opt` `root` `dev` `mnt` `lib` `tmp` `var`
4. 你常用的 Linux 指令有哪些？
   1. 文件管理：`mkdir` `mv` `rm` 
   2. 查看或者编辑文件：`cat` `tail ` `vim`
   3. 压缩：`tar` `unzip`
   4. 系统操作：`top` `systemlctl` `ps`
5. 一般使用流程
   1. 新建用户
   2. 添加文件夹，设置文件归属
   3. 用户添加应用程序
   4. 使用用户权限执行程序

### Shell 脚本

### 算法

1. 为什么要研究算法？
1. 说说常见的排序算法有哪些，以及他们的原理是什么样的？
2. 手写一下快速排序？
3. 手写一下归并排序？

## 第二章 数据读写

### 概论

1. 市面上常见数据库的区别？
   1. MySql-> 最流行的
   2. PostgreSql-> 最先进的，功能很完善
   3. Oracle -> 最完善的商业数据库，性能也最好
   4. Sql Server->仅支持 Windows系统，也导致了它本身的局限性
   5. Redis-> 主流的缓存-读多写少的场景，同时容量受限于内存的大小
   6. MongoDB -> 大数据文档存储，方便计算
   7. HBASE -> 超大NoSql存储机制，比MongoDB更大
   8. ES-> 搜索引擎-文档的检索服务，但是不适合频繁新增和修改的场景
   9. ClickHouse-> 大数据列式存储，主要用作大数据场景进行数据报表分析使用，但是不支持事务，且单次存储性能低下

### Sql 概念

1. Sql查询的基本流程？
   + from
   + join on 
   + where 选择
   + group by 分组
   + having 再次进行选择
   + select 选择列
   + distinct 去重
   + order by 排序（排序的成本比较大，除非确定排序，否则尽量不要使用）
   + top 选择对应行
1. having 与 where 之间的区别？
1. varchar(50)中50的涵义？
1. FLOAT和DOUBLE的区别是什么？
1. UNION与UNION ALL的区别？
1. 字段为什么要求定义为not null？
1. 优化 `insert` 语句？
1. 如何优化`order by`语句？
1. 如何优化`group by`语句？
1. 如何优化嵌套查询？
1. 如何优化`or`语句？
1. 如何优化大分页查询？

### Sql优化

+ 什么是Sql优化？

+ Sql优化原则？

  服务是分层次的，由高到低依次是web端、数据库缓存、连接池、数据库，优化的原则是尽可能的从上倒下开始做优化，优化的收益是依次递减的，层次越高，收益也越高

  + 减少不必要的查询，比如多余的数据
  + 优化数据的查询逻辑，优化Sql、减小事务
    + 找到需要优化的Sql： 数据库慢查询日志，找到慢的Sql
    + 需要增加索引的，增加索引，如果还是慢，判断是否走了索引？
    + 删减无用字段
    + 优化繁杂的子查询，删除无用的索引
    + 使用explain进行分析，然后优化不合理里的Sql
  + 使用缓存、读写分离（适合读负载过高）
    + 增加从库，读写分离
    + 热点数据查询？-增加缓存
  + 增加硬件资源等
    + 如果走了索引，但仍然比较慢，数据库？-分库分表
    + 水平拆分和垂直拆分

###  Sql禁止3表Join

问题点：

+ Mycat仅支持2表关联操作
+ Mysql超过3表关联时做的不是很好，很多时候会导致预期的执行效果不是很好
+ 后期的数据量增加，会进行分库分表，join过多也会导致后期的代码需要重新进行维护操作

解决方案：

1. 数据量小：使用拆分join查询为最简单的单表查询
2. 反范式查询：增加反范式表，将我们需要的字段提取成为一个新的表，通过冗余数据的方式建立一个反范式表
3. 大数据解决方案-数据集市（ETL）：通过当天的一个定时任务完成对数据的加工，然后获取得到我们需要的数据，所以数据的显示是T+1

### 关系型数据库

#### `Mysql`

##### 基础理解

1. Mysql对比5.7版本对比8.0版本的区别？
   1. 并发性能更高
   2. 对于MGR的支持会更好一些，因为MGR的5.7版本之后才有的
   3. 对于开窗函数，8.0版本才支持

   总结：个人感觉，还是挺有必要升级到8.0以上版本的

2. Mysql对比MongoDB？
3. 为什么使用Mysql？
4. 数据库的三大范式是什么？
5. MySql的逻辑架构是什么样的（4层）？
6. Mysql的工作流程是什么样的，请详细描述？
   + 连接器、查询缓存、分析器、优化器、执行器
7. MySql中日志的录入格式是什么样的？
8. Mysql的缓存池概念
9. MySql的数据类型有哪些种类？

   1. 整数
      1. int（11），11有什么用？
   2. 实数（float duble Decimal）
   3. 字符串：
      1. `char` 和 `vachar` 的区别，
      2. `text\blob` 的性能为什么低？
   4. 枚举 的使用注意事项
   5. 时间日期类
      1. `timestamp`
      2. `datetime`
10. 设置int的长度有什么用？
11. 如何选择字符类型？（`char`、`varchar`、`text`）
12. timestamp和datetime的详细区别是什么？
13. 如何存储IP地址？
    + 应该使用整数，如果使用varchar的话，占用的内存会增加多
    + Mysql自带函数，也可以将ip转化为整数

##### 存储引擎与索引

1. MyIASM对比InnoDB？
2. 为什么MyIASM查询上会比Innodb稍微快些？
3. InnoDB的四大特性有哪些，各自起到了什么的作用？
   1. 插入缓存（提升插入性能）
   2. 二次写-双写机制（保证数据的稳定性）
   3. 自适应哈希索引
   4. 预读（加载一个数据的缓存池）
4. 如何选择存储引擎？
5. 什么是索引？它优缺点有哪些？
6. 索引的分类？
7. Innodb 索引的数据结构有哪些？各自有什么优缺点？（B+树、B树、Hash索引）
8. 什么情况下可以使用Hash索引？
9. B+树与红黑树之间的区别是什么？
10. 索引的基本原理？
11. 索引的设计总则？
12. 创建索引的注意事项？
13. 创建索引能够一定能够提升查询性能么？
15. 前缀索引和最左匹配原则？
16. 什么是聚簇索引和非聚簇索引？
17. 什么情况下会索引失效？
18. 如何避免回表？
    + 使用索引覆盖，把所有的列都放到索引中，这样存储引擎不需要回表获取对应行就可以返回结果
19. 为什么数据量很大的时候Mysql的性能会下降（为什么推荐的数据量在2000万左右）？
20. 谈谈对于叶分裂的理解？

**数据库事务**

1. 什么是MVCC？
2. 快照读和当前读之间有什么区别？
3. MVCC解决了什么问题？
4. MVCC的实现原理是什么？
5. 什么是事务，事务的ACID代表什么？
6. ACID是靠什么保证的？
7. Mysql-两阶段提交？
   1. 先提交 Redo Log 状态为 prepare
   2. 写入到数据库中
   3. 写入binLog，更新RedoLog的状态为 commit
8. 什么是脏读、幻读、不可重复读？
9. 谈谈你对`MySql`事务的隔离级别的理解？
10. 当前读和快照读？如何实现当前读（共享锁或排它锁）？
11. 隔离级别和锁之间的关系？
12. `Mysql` 锁：行锁、表锁、页锁、元数据锁？
13. InnoDB行锁的分类有哪些？
14. InnoDB的行锁模式？
15. 为什么要避免间隙锁？
16. 什么情况下行锁升级表锁？
    1. 无索引 行锁 升级为 表

   17. 如果不通过索引条件检索数据，那么InnoDB将对表中的所有记录加锁，实际效果跟表锁一样。
18. 行锁的优化建议有哪些？
19. 乐观锁与悲观锁是如何实现的？
20. 发生过Mysql锁表事件么？

**Sql优化**

1. explain 字段的作用，还有常看哪些字段？
   1. type
   2. possible_keys
   3. key
2. 慢查询如何优化？

**常见的集群模式**

+ 普通的主从服务器，通常是主备切换，读写分离
+ Vip+双主双从，互为主备，半同步复制，数据存在丢失的风险
+ MMM 是一套支持双主故障切换和双主日常管理的脚本程序
+ MHA 高可用方案，基于半同步复制，自动故障切换
+ MGR+Proxy方式：推荐，最大支持9个节点，推荐使用Mysql的版本在8.0

**大数据量**

1. 分片中间件：MayCat、Sharding Sphere，（一般来说已经使用绝大多数企业了）
   + 适合10亿级别的数量总集的大型应用
   + 如果超过这个数据量采用大数据解决方案更好
2. 分布式数据库方案（对内存的要求很高）
   + Google:Spanner
   + Alibaba:OceanBase
   + PingCAP:TiDB

#### `Sql Sever`

1. 什么是 `Sql Server`

### 非关系型数据库

#### Redis

**基础认知**

1. 谈谈你对`Redis`的理解?
2. `Redis`有哪些优缺点？
3. 为什么要使用缓存？
4. 对比Map、本地缓存？
5. 对比Mongdb，有什么区别？
6. 对比ES有什么区别？
7. `Redis` 为什么会那么快？
8. `Redis`是单线程还是多线程？
   + 执行命令是单线程
   + 但是其他场景可能是多线程：比如 RDB缓存，就是开启一个子线程进行备份缓存
9. `Redis`为什么不用多线程？
10. `Redis` 有哪些数据类型？
11. 说说 `Redis` 的应用场景有哪些？
12. `Redis`键值是如何保存的？如何实现扩容的？
13. Redis 对于高并发高可用的实现
    1. 单台可以实现几万的并发读写，提升读的吞吐量，可以使用主从，实现读写分离，不推荐开启master的节点开启热备，避免重启后，删除了从节点的数据
    2. 为了保证高可用，可以加入哨兵机制，实现主备切换
    3. 想要实现水平扩容，可以加入Reids的集群

**持久化机制**

1. `RDB`持久化机制的特点？
2. `RDB`持久化的工作流程？
3. `AOF`持久化机制的特点？
4. `AOF`什么时候写入磁盘？（always\EverySec\No)
5. 什么是`AOF`的重写机制？
6. 如何使用合适的持久化方式？
7. `RDB`与`AOF`是如何混合使用的？
8. 如何选择合适的持久化策略？

**线程模型**

1. `Redis`的过期键的删除策略是什么样的，默认的过期键删除策略是什么？
2. `Redis`的内存淘汰策略有哪些？
3. 使用Redis如何作内存优化？（内存可能只有20G，但需要你放入原有30G）
4. Redis回内存收使用的是什么算法？
   1. LRU 与 LRU
      1. `LRU` 算法 - 最近最少使用，`Redis 3.0` 中的 `LRU`算法，其核心思想是"如果数据最近被访问过，那么将来被访问的几率也更高"所以当新的数据进来时我们可以优先把这些数据替换掉。是淘汰最长时间没有被使用的页面。
      2. `LFU` 算法 - 最不经常使用，`Redis 4.0` 中新增的 `LFU` 算法，LFU是淘汰一段时间内，使用次数最少的页面。其核心思想是"如果数据过去被访问多次，那么将来被访问的频率也更高"

5. 关于`Redis`的线程模型是什么样的？
6. 过期时间和永久有效该怎么设置？
7. 关于`Redis`的事务了解多少？
8. `Redis保证事务的原子性么？`

**架构设计**

1. 谈谈对于`Redis` 的哨兵模式？
2. `谈谈对于Redis`主从模式的理解 ？
3. 谈谈对于`Redis-cluster` 集群的理解？
4. `Redis`集群最大的节点数量？16384
5. `Redis`的热`Key`处理问题？
6. `Redis` 如何实现分布式锁？
7. `Redis`与ZK实现分布式锁的区别？
   + Redis
     +  集群是异步复制数据的，大量设置锁，可能会导致锁同步不及时，导致锁失效的问题，故而强一致性业务不推荐使用
     + 基于内存，性能会更高
   + ZK
     + 使用的是Zk中的临时顺序节点，生命周期基于与客户端的Session，如果链接断开，锁会被错误的释放，因此无法保证强一致性
     + 随着业务量的增加，zk的响应时间和QPS会明显的下降
     + ZK每次操作也会创建节点，所以会比较浪费时间
8. `RedLock`（红锁）的实现原理是什么？

**缓存问题**

1. `Redis`慢查询？
2. `Redis` 主从复制的核心原理？
3. 什么是缓存雪崩？
4. 什么是缓存穿透？
5. 什么是缓存击穿？（两种情况）
   1. 新闻热点：前端缓存，虽然时效性可能差
   2. 秒杀商品：限流，避免超卖
6. 什么是缓存降级？

**其他**

1. `Redis` 的客户端工具：`Redisson` 、`Jedis`、 `Lettuce`
   1. 分布式协调客户端：`Redisson`
   1. `Redisson` 对比 `Jedis` 的区别？
   1. `Jedis` 和 `Luttuce` 之间的区别？
2. 如何保证数据库与缓存的双写一致性?
3. `Redis`一个`Key` 能够存储的最大容量？
4. Redis 突然变慢， 如何进行排查？
5. `Redis`可以做异步队列么？
6. `Redis`如何实现延时队列的功能 ？
7. `Redis`中的跳表是什么样子的？
8. 为什么使用跳表而不是B+树？

**性能优化**

1. 尽可能缩短键值对的长度，减少内存在占用
2. 使用延迟删除特性，避免频繁删除
3. 设置键值对的过期时间
4. 禁止耗时长的查询命令
5. 使用Slowlog优化耗时命令
6. 避免大量数据的同时失效
7. 配置中可以限制Redis内存的大小
8. 检查持久化策略
9. 使用分布式架构增加吞吐量

**Redis的最佳生产实践**

1. 主从模式下，主从节点一定要分机器部署，避免单点鼓掌
2. 通过网络部署，同交换机最佳，时间<2ms，否则意义不大
3. 单个节点的内存不宜太大，否则容易影响性能，如果数据过多，建议从业务上拆分，一般不超过10G
4. 对象不应该太大，1K级别最好，超过10K要特别小心
5. 如果对象存在复杂结构，最好使用Hash，List等其他结构
6. 若无强烈持久化需求，不建议开启AOF
7. 一定防止Key的集中过期
8. 线上建议加密直连
9. 上线时最好基准测试，预估Redis的性能

#### ES

1. 倒排索引的理解？单词词典-倒排列表
2. 你用到了 `ES` 中的哪些功能 ？
   1. `ik`分词器
   2. 多条件聚合查找
3. Lucence 与 ES 之间的关系？
4. ES 的核心概念：集群、节点、分片、副本？
5. Es 写数据的过程？
6. ES 读数据的过程？
7. ES 搜素数据的过程？
8. 对比`Solar`，为什么考虑`ES` ？


### `ORM`框架

#### 概念

`Object Relational Mapping`

1. 什么是`ORM`？
2. 为什么要使用`ORM`？
3. `Mybatis`对比`JPA`，分别适用于什么杨的使用场景？

#### Mybatis

1. 为什么要使用 `Mybatis` ？
2. 对比 `Hibernate` 的优缺点？
   1. `Mybatis`解决了传统`JDBC`开发的什么问题？
3. `Mybatis`的适用场景？
4. `MyBatis`的工作流程（查询数据的原理）？
5. `#{}`与`?{}`之间有什么区别？
6. Mybatis的缓存机制？
   1. `Mybatis` 的一级缓存与二级缓存有什么理解 ？
   2. 一级缓存基于SqlSession
   3. 二级缓存基于所有Sqlsession之间的共享
   4. （`session`、`nameSpace<cache>标签`）

7. `Mybatis`插件实现原理？
8. `Mybatis`懒加载？为什么要懒加载？懒加载会带来什么问题？
9. `N+1`的问题如何解决？

#### Mybatis-Plus

1. `Mybatis` 与 `M-Plus` 之间的一个关系
2. 为什么要使用 `Mybatis - Plus` ？

### 数据库代理

#### Sharding-Proxy

数据库代理中间件，可以是分库分表、读写分离

#### Mycat

数据库代理中间件，可以是分库分表、读写分离

### 架构设计

1. 读写业务的设计原理
2. 系统架构拆分方法论
3. 高性能读架构设计
4. 高性能写架构设计
5. 高性能扣减业务（秒杀）

## 第三章 Spring系列

### Spring

#### 概念

1. 谈谈你对于Spring的理解？
2. Spring的四种关键策略？
3. Spring 的优缺点有哪些？
4. 为什么要是用 Spring？
5. Spring 的使用场景？
6. Spring 的主要组成模块（起码说出6个）？
7. Spring 中使用到的设计模式有哪些？
8. 谈谈模块Spring-Context的理解？
9. Spring应用程序中有哪些不同的组件？

#### IOC

1. 什么是`IOC`，什么样的原因会出现`IOC`？
2. `IOC`的实现机制？
3. `IOC`优缺点？
4. `BeanFactory` 和 `ApplicationContext` 的区别？
   + 依赖关系、加载方式
5. 什么是依赖查找？
6. 什么是依赖注入？
7. 依赖注入有哪些实现方式？
   + 构造器
   + Set方法
8. 构造方法与`Set`方法进行依赖注入这二者之间的区别是什么？ 

#### Bean

1. 什么是`Bean`？
2. 如何为 `Spring` 容器提供配置元数据？
3. 如何定义`Bean`的作用域？
4. 详解 `bean` 的生命周期？
5. 什么是bean的自动装配？
6. Spring有哪些自动装配的方式？（通过xml的方式对bean进行装配）
7. `@Autowired` 自动装配的过程？
8. 可以在Spring注入 null 或者 空字符串么？
9. 当容器中有多个同类型的bean，如何指定注入哪一个Bean？（使用@Qualifier）
10. 自动装配有哪些局限性？
11. Bean的特点：作用域、线程安全
12. 什么是循环依赖？
13. 循环依赖的解决方案？
14. 三级缓存分别是哪三级？
15. 解决循环依赖为什么不能通过二级缓存？
16. `Bean` 的 实例化和初始化有什么区别？

#### Aop

1. 什么是`AOP`？
2. 为什么要有`Spring Aop`功能的出现
3. 动态代理：`JDK`、`CGLIB`之间有什么区别？
4. `AspectJ AOP`对比`Spring Aop` ？
5. `Aop`支持的5种通知方式？
   1. 注意：多线程情况下，最好使用环绕通知，可以确定是同一个线程的结果。

6. 谈谈`Aop`功能 对比过滤器和拦截器 有什么区别？

#### 事务

1. 运行原理
2. 说一说Spring事务的传播机制
3. 事务的传播行为（7种）
4. `Spring` 的事务隔离级别（5种）
5. 关于`@transactional`注解失效

### Spring MVC

1. 什么是 `MVC`，为什么要有`MVC`？
2. `Spring MVC` 主要的工作组件（6个）
3. 简述`Spring MVC` 的 工作流程是如何的？
4. 注解的作用
   1. `@RequestBody`




### `Spring Boot`

1. 谈谈你对于Spring Boot的理解？
2. 谈一谈 `Spring`有哪些缺点？
3. 谈一谈`Spring Boot`有哪些优点？
4. 核心注解有哪些？`@SpringBootApplication` 、`@EnableAutoConfiguration`、`@ComponentScan`、`@ConditionOnClass`
5. SpringBoot自动配置原理？
6. 说一下`Spring Boot`的启动流程 ？
7. 前台数据回显的时候遇到乱码的情况 ，怎么办？
8. 不想一次性加载所有的实例，有什么方法？ `@Lazy`
9. 如何使用 Spring Boot 实现异常处理？
10. Spring Boot 种实现定时任务的三种方式？
   1. `Timer`
   2. `Schedule`
   3. `Quartz`
11. `Spring Starter`是什么？
12. 如何自己写一个`Spring Starter`？
13. 常用的三种解决跨域的方式？
14. `Spring` 如何实现 `Session` 共享的问题？
15. 如何监控现在的 `Spring Boot` 微服务？



### Spring Session

1. 什么是spring session？
2. 它是如何实现共享 session 的？ 



### Spring Command Line

1. 什么是`commandLine`
2. 它的主要作用是什么？



### Spring Cloud

#### 概念

1. 谈谈你对于Spring Cloud的理解？
   1. 什么是微服务开发框架？
   2. 各个框架各有什么特点？
   3. 为什么选择Spring cloud?
2. Spring Boot 对比 Spring Cloud？
3. Spring cloud 对比 Dubbo 有什么区别？
4. Spring Cloud 中有哪些比较重要的组件？

#### Spring Cloud Common

#### 注册中心：`Nacos`

1. 什么是注册中心？
2. 服务是如何判定服务实例的状态？
3. `Nacos` 满足了`CP` 还是`AP`？
4. 对比 `Eurka(AP)`、`zk(CP)`、`consul`、`etcd`

#### 配置中心：`Nacos`

1. 为什么会存在配置中心？
2. `Spring Config` 对比 `Nacos`？

#### 服务调用：`feign`

1. `feign` 的工作原理是什么样的？
1. Feign与RPC之间的关系是什么样的？
1. 常见的RPC框架都有哪些？

#### 负载均衡：`Ribbon`

1. 为什么会有负债均衡？
2. Ribbon的工作流程？
3. Ribbon的核心组件有哪些？
4. 常见负载均衡的分类：`LVS` 、`Ngnix` 、`Ribbon`，它们之间有什么区别？
5. Ribbon 的内置负载均衡算法有哪些？

#### 熔断降级：`hystrix`

1. 什么是服务雪崩？
2. 什么是请求熔断？
3. 什么是服务降级？
4. `Hystrix` 的工作流程？
5. `Hystrix` 的常用的配置选项有哪些？

#### 网关：`gateway`

1. 为什么要使用网关？
2. 网光常用的功能：路由、认证、限流、解决跨域、协议转换等
3. 常用的限流算法：计数器、滑动窗口、漏桶算法、令牌漏桶算法？
4. 市面上的限流工具：`GateWay` + `Redis`, `Sentinel` ?

#### 流量管理：Sentinel

1. 什么是Sentinel ？
2. Sentinel 默认的限流算法是什么？
3. Sentinel 实现限流的原理是什么？
4. Sentinel 对比 Hystrix？

#### 链路追踪：Sleuth 



### Spring Security

1. 什么是认证？
2. 什么是授权？
3. 授权的种类分类有哪些？

### 数据校验

1. 简单校验
1. 分组校验
1. 级联校验
1. 自定义校验规则
1. 全局校验异常处理

## 第四章 分布式理论

### 分布式理论

1. 谈谈你对于分布式的理解？
2. 什么是微服务？
3. 什么是集群？
4. 集群的两大特点？两大能力？
   1. （高扩展、高可用），
   2. （负载均衡、集群容错）
5. 分布式概念？
6. 分布式业务拆分的两种方式？
   1. 水平拆分
   2. 垂直拆分
7. 什么是中心化与去中心化？分别的代表案例是什么？
8. 什么是 CAP 理论？
9. 什么是 BASE 理论？
10. 描述去中心化结构产生的脑裂问题？
11. 描述中心化结构引发的领导安危问题？
12. 说说有哪四种一致性？
    1. 强、弱（最终）、因果（顺序）、会话
    2. 强一致性若一致性的使用场景
13. Nacos在CAP理论上的具体实现


### 常见分布式问题

#### 限流

1. 常见的限流算法有哪些？

   1. 为什么限流：正常来说，每个系统都有自己能够处理请求的一个瓶颈，限流就是为了保证请求系统的流量不会超过系统的正常承载
   2. 常用的限流算法
      + 计数法
      + 时间窗口
      + 漏桶算法
      + 令牌水桶


#### 任务调度

1. 常见的定时任务处理原理有哪些？	
   1. 数组遍历
   2. 堆排序方法
   3. 时间轮机制

2. 什么是简单时间轮？
3. 为什么会产生分层时间轮，说一下它的运行原理 ？

#### 分布式ID

1. 什么是分布式ID？
2. 分布式ID的实现方式有哪些？（常用的3种）
   1. UUID
   2. 数据库批量产生Id，为避免主服务器死掉，采用影子服务
   3. 雪花算法（时钟回拨问题）
      1. 百度开源的分布式唯一ID生成器 UidGenerator
      2. Leaf - 美团点评分布式ID生成系统

3. 谈一谈雪花算法的实现原理？
4. 分布式ID各种实现方式的优缺点？

#### 分布式事务

1. 什么是分布式事务？
2. 分布式事务的解决方案有哪些种类？
3. 二阶段提交的实现原理，有什么优缺点？
4. `TCC`的实现原理，有什么优缺点？
5. 什么是可靠消息 + 最终一致性（包含了消息事务）？
6. 最大努力通知的实现原理？
7. 什么是 TCC 空回滚？
8. 什么是 TCC 幂等性问题？
9. 什么是 TCC 悬挂问题？

#### 分布式锁

1. 什么是分布式锁？
   1. 一般的锁是进程内部的线程竞争，分布式锁是不用进程之间资源的竞争
   2. 锁的条件：排他性、高可用、可重入性、设置过期时间避免死锁、非阻塞性（获取锁失败，线程不应该阻塞在哪里）
   3. 常见实现方式：redis、zk

2. 解决分布式锁的方案有哪些？
3. 顺序一致性是如何实现的？

#### 一致性哈希

#### Seesion 共享

1. 什么是Session 共享问题？
2. 如何解决Session共享问题（4种），然后这些方案会有什么问题？
   1. session 复制
   2. Nignx 负债均衡策略 ip_hash，但是这个方法违背了负载均衡的思想
   3. cookie 记录session信息
   4. spring session

3. Spring session 的实现原理是什么？

#### 时钟同步

1. 时钟同步的原因？
2. 时钟同步的解决方案有哪两种？

#### 分布式调度

1. 什么是分布式任务调度？
2. 分布式任务调度的实现原理？
   1. 将所有任务放入到数组中，然后轮训
   2. 排序方案，维持最小堆
   3. 时间轮方案，如果任务过多导致时间刻度增加，还可以使用多级时间轮的方案

3. 分布式任务调度的解决方案有哪些？
   1.  XXL-JOB
   2. Elastic-Job

4. 方案之间的对比有什么？

#### 链路追踪

1. 什么链路追踪？
2. 为什么要用链路追踪？
3. 链路追踪的解决方案是什么？
4. 链路追踪的实现原理？

#### 高性能负载均衡集群

1. 高性能写业务
2. 高性能读业务

#### 常见软件性能

+ Nginx：一般3~5万
+ Tomcat：支持数万个并发连接，单机 Tomcat 的 QPS 在 2w 左右
+ Netty：支持数万并发连接，单台服务器能够达到4万次请求解析
+ Redis： 单机 QPS 可以达到 8w+
+ MySQL：单机的 QPS 为 大概在 4k 左右
+ RabbitMQ：单机吞吐量：万级，时效性：微秒
+ RocketMQ：单机吞吐量：十万级，时效性：毫级

### 设计模式

1. 什么是设计模式？
2. 为什么要学习设计模式？
3. 什么样的代码是好代码？
4. 设计模式是如何分类的？
5. 什么是单例模式？
   1. 双重锁为什么有两次检查
   2. 为什么使用volitale修饰
      1. new 不是原子性的，它会分为三天指令去执行：为对象分配内存、初始化对象、把实例对象赋值给instance
      2. 多线程情况下，由于指令重排，可能会将一个不完整的对象分配给其他线程
      3. volitale 则避免了指令重排

6. 设计模式一定就好么？
   1.  针对轻量对象，new更快，如果构造方法相对复杂，可以使用克隆模式

7. 分布式环境下实现单例模式？
   + 可以采用序列化+外部存储+分布式锁的方式
   + 可以分为两部分，先判断这个对象是否存在、是否被使用
   + 如果不存在就新建，如果被使用就等待上一个进行释放当前对象
   + 当前进程拿到对象后，先反序列化成为对象，用完后再序列化将对象保存到外部存储，然后再删除本地内存中的对象
8. 简单工厂、工厂方法、抽象工厂之间的区别？
9. 建造者模式和工厂模式的区别
10. 观察者模式和发布订阅模式的区别？
11. 谈谈对于策略模式和观察者模式的理解？
12. 适配器、代理、装饰模式的区别
13. 什么是责任链模式？
14. 你自己遇到过哪些设计模式？

### 设计一个系统流程？

1. 先解析这个业务的工作流程
2. 都使用到了哪些技术？
3. 如何设计数据库？
4. 代码会有哪些功能接口？
5. 历史数据的迁移问题？

## 第五章 中间件

### 消息中间件

#### 概念

1. 什么是消息队列？
2. 消息队列有哪些优缺点？
3. 为什么要使用消息队列？
4. 消息队列如何选型？

   RabbitMQ、Kafka、RocketMQ

#### 常见的消息队列问题

1. 保证消息的可靠传输
2. 消息的顺序消费
3. 如何避免消息的重复消费
4. 消息积压的问题?（需要从三个方面分析）
   1. 生产者速率过快
   2. 消息队列效率问题
   3. 消费者能力下降
5. 什么是消息事务？
6. 哪种队列支持消息事务

#### Rabbit MQ

1. 对比`Rocket MQ`有什么优势？
2. 你都用到过`Rabbit MQ` 的哪些功能？
   1. 消息路由
   2. 延时队列
   3. 消息持久化
6. `RabbitMQ` 集群的模式概述？
   1. 普通集群模式
   2. 镜像集群模式
7. 为什么不对所有的消息进行持久化操作？

#### Kafka

1. 谈谈你对于Kafka的理解？
   1. 什么是`Kafka`？
   2. `kafka` 的优点和缺点？
   3. `kafka` 的主要使用场景有哪些？

2. 为什么很多公司不会优先选择`Kafka`作为简单的消息队列？
   1. 功能相对 简单（延时队列等）
   2. 即时性相对较差
   3. 结合了`zk`，运维相对也会比较复杂
3. `Kafka` 与 `Zookeeper` 之间的关系？（2.0版本与3.0版本之间的差异）
4. `Kafka` 推送消息，采用了哪种模式 pull ？还是push？
5. `Kafka` 消费者是如何消费消息的？
6. 什么是`ISR`？
7. `Kafka`判断一个节点是否还活着有哪两个条件？
8. `kafka consumer` 什么情况会触发再平衡`reblance`?
9. `kafka consumer` 再平衡步骤

#### Rocket MQ

1. 什么是`Rocket MQ`？
2. `Rocket MQ` 的主要组成部分？
3. `Rocket MQ`的容错机制（如何判断 `broke` 节点还存活）？
4. 生产者发送消息的方式？
   + 同步、异步、单向（无需回执）
5. 消息消费的两种模式？单点、广播
6. 消费者获取消息有2种模式？ `push`,`pull`
7. RocketMQ 高性能的原因
   1. 顺序写：顺序写比随机写的性能会高很多，不会有大量寻址的过程
     2. 异步刷盘：相比较于同步刷盘，异步刷盘的性能会高很多
     3. 零拷贝：提高了数据传输的效率

#### 设计一个消息队列

+ MQ的水平扩容，增加吞吐量：那么可以参考Kafka在Topc下面增加Partition的方式，如果需要增加吞吐量，那么只需要水平增加机器和Paitition即可
+ 高性能持久化：顺序写磁盘的方式，减少机器随机读写
+ 保证高可用：可以采用多副本的机制
+ 数据的另丢失

#### 谈谈你设计的消息队列？

+ 设计产品的原因：在完成分布式调度任务之后，我对自己提出了另一个比较高的要求，目标瞄准了消息队列
+ 技术架构：Spring Boot、Netty、Protobuf
+ 架构组成
  + 注册中心：自研，负责worker的注册，保存了消息队列的信息：每个队列的配置信息、队列消费的偏移量，工作节点每隔一段时间，会将队列的数据同步给注册中心，注册中心会将数据持久化到文件当中
  + worker：真正的工作节点
  + 文件服务：负责数据的持久化操作
  + 生产者：消息的生产者
  + 消费者：消息的消费者
+ 工作流程
  + 先启动注册中心、然后启动worker和文件服务，worker想注册中心完成注册
  + 生产者与消费者，启动先访问注册中心，注册中心返回可用的worker节点的IP，然后启动Netty客户端，链接消息队列的工作节点
+ 消息队列的特点：
  + 支持多种功能：消费一对一、一对多，ACK模式，通过DelayQueue实现延时队列
  + 数据持久化：如果需要持久化，消息队列启动文件服务，将消息保存在磁盘当中，服务宕机，消息不丢失，同时每个消息都有自己的一个全局唯一ID，记录了消费者消费的偏移量
  + 副本机制：默认集群启动，每个队列的副本数量为2,
  + 注册中心的高可用：Leader宕机，注册中心进入到选举模式，每个注册中心节点都会存在一个Id，优先推举id最小的节点作为Leader，当推举数大于注册中心节点数量的一般是，该节点就是新的Leader。当然，也可以利用数据库，将Leader选举的流程进行简化
  + 当Worker节点挂掉的时候，生产者和消费者会重新链接到注册中心，获取得到可用的worker节点，如果集群中某个队列的副本数量小于配置，注册中心会开启队列数据的同步指令，这个过程采用UDP的方式进行传输
  + 消息队列的高性能：目前来说我写的Mq还有很多可以提升性能的地方
    + 引入堆外内存，实现零拷贝
    + 加入异步写机制
    + 数据持久化，批量写操作

### 注册中心

#### `ZooKeeper`

1. 什么是`Zookeeper`？
2. `ZK` 的节点类型有哪些？
3. `ZK` 如何保证主从节点的状态同步（`Zab`协议）？
4. `ZK` 的监听机制有什么特点？
5. `ZK` 节点有哪些工作状态？
6. 节点之间如何进行数据同步？
7. 分布式集群，为什么会有一个`Master`?
8. `zk` 节点宕机了如何处理？（`leader` 或者 `follower` 宕机）
9. `zk` 如何保证事务的顺序一致性？
10. `ZK` 如何进行扩容？支持动态扩容么？
11. `zk` 的使用场景有哪些？
    + 负载均衡、命名服务、分布式锁、集群、数据订阅发布等

### Web 服务器

#### `Netty（重点） `

1. 谈谈你对于Netty的理解？
   1. 什么是Netty？
   2. Java原生Nio程序的问题？
   3. Netty的特点？
   4. Neety的高性能设计？
   5. Netty的使用场景有哪些？

2. `Netty` 的功能模块有哪些？各自有什么作用？
3. `Netty` 的工作原理？
4. `Netty` 的线程模型？
5. 什么 是`Netty`零拷贝？
6. `Netty`有哪些模块组件？
   + bootsrap
   + selector
   + channel
   + channelPipeline
   + channelHandler
   + channelFuture
   + NioEventLoop
   + NioEventLoopGroup
7. `Netty` 发送消息有几种方式？
8. 如何选择序列化协议？
9. `Netty` 与 `Tomcat` 之间的区别？
10. `TCP` 粘包与拆包产生的原因
11. 粘包与拆包的三种解决方法？

#### `Nginx`

1. 什么是反向代理和正向代理？
2. `nginx`的特点？
   + 跨平台、异步、配置简单、事件驱动
3. 负载均衡的策略有哪些？
   + 静态：随机、轮训、权重
   + 动态：最少链接数、`ip_hash`
4. `nginx`使用 场景？
   1. 反向代理
   2. 前端页面代理
   3. 负载均衡
   4. Https服务器


#### `Tomcat` 

1. `Tomcat`是什么？

2. `Tomcat`的`Connector`运行模式有哪些？

3. `Tomcat`部署应用的方式有哪些？（说出三种）

4. `Tomcat`的架构设计

   + `Server`、`Service`、`Connector`、`Container`、`Host`、`Context`、`Engine`、`Wrapper`

5. `Container` 如初处理请求的？

#### `UnderTow`

**介绍**

undertow是RedHat（红帽公司）的开源产品，采用java开发，是一款灵活、高性能的web服务器，提供了基于NIO的阻塞/非阻塞式APIs，也是WildFly（原名JBoss AS - JBoss Application Server）的默认web容器。

**特点**

+ 轻量级：它是一个 Web 服务器，但不像传统的 Web 服务器有容器概念，它由两个核心 Jar 包组成，加载一个 Web 应用可以小于 10MB 内存
+ Servlet3.1 支持：它提供了对 Servlet3.1 的支持
+ WebSocket 支持：对 Web Socket 完全支持，用以满足 Web 应用巨大数量的客户端
+ 嵌套性：它不需要容器，只需通过 API 即可快速搭建 Web 服务器
  



### 项目管理

#### `Maven`

1. 什么是`Maven`？
2. `Maven` 的作用是什么？
3. 什么是 `Maven` 传递？
4. 什么是依赖冲突？如何解决（两种方案）？
5. 什么是 `Maven` 的生命周期 ？
6. 什么是聚合？
7. 什么是继承？
8. 什么是可选依赖和依赖排出？

#### `Gradle`

1. 什么是`Gradle`？
2. 为什么要开始使用`Gradle`？

#### `Git`

#### `SVN`

### 其他工具

#### 模版引擎`Velocity`





## 第六章 项目部署

### 工具集合

#### GitLab 

1. 私有代码仓库

#### Jenkies

1. 什么是JenKins？为什么要使用它？
1. Pipeline 流水线语法，控制持续Dev流程
1. 为什么要使用PipeLine语法？

#### SonarQube

1. 代码审查的一个工具

#### Harbor

私人镜像仓库，当Jenkins构建完成镜像文件后，可以上传该文件到Harbor中，执行部署的机器可以通过Docker下载改文件，然后使用Docker进行部署

#### Docker 

1. 谈谈你对与Docker 的理解？

   1. 什么是`Docker`？
   2. Docker的优缺点？

2. `Docker`构建镜像文件的过程是什么样的？

   更加像是一个SSH脚本，先配置基础镜像、然后将代码复制到镜像中、配置相关环境变量、最后添加程序的启动指令

3. 什么是镜像、容器？

4. `Docker`容器的四种状态？

5. 一个完整的`Docker`由哪些部分组成？

### 云原生

#### 概念

1. 什么是云计算 ？
2. 简述三种云服务模型 ？
3. 什么是云原生 ?
4. 为什么要使用云原生架构 ？
5. 什么是 VPC？
6. 什么是容器编排技术 ？

#### K8S

1. 什么是云计算？
2. 云计算的五个特征
3. 云服务的模式`Laas`、`Paas`、`SaaS`之间有什么区别？
4. 什么是云原生？
5. 为什么要使用云原生？（云原生的特性）
6. 什么是`VPC`? 应用场景有哪些？
7. 什么是容器编排？
8. 什么是 `K8s` ?
9. 为什么要选择`K8s` 而不是其他 ？
10. `K8s`带来的表格
11. `K8s` 的生命周期？
12. `Master` 节点的组件有哪些？各自的作用？
13. `Node` 节点的组件有哪些？各自有什么作用？
14. 简述创建 `Pod` 的流程？
15. 简述删除 `Pod` 的流程？
16. `K8s` 如何进行关机维护？
17. `K8s` 如何进行监控？
18. `deployment` 升级过程（类似于滚动更新）？
19. `deployment` 升级策略有哪些？
20. `DaemonSet` 类型的资源特性？
21. `service` 三种工作模式 ？
22. `service` 的四种类型？
23. `pod` 网络模式？
24. `Scheduler`如何将 `Pod` 绑定到 `worker` 节点（Scheduler 如何为Pod挑选合适的Worker节点）？
25. 如何保证集群的安全性？
26. 数据持久化的方式有哪些？
27. 简述`Kubernetes PV`和`PVC`？
28. `Kubernetes PV`生命周期内的阶段？
29. 简述`Kubernetes CSI`模型？
30. 简述`Kubernetes Worker`节点加入集群的过程？
31. 简述`Kubernetes Pod`如何实现对节点的资源控制？

### 服务网格

#### 概念

1. 什么是服务网格？
2. 为什么要使用服务网格？

#### Istio 

1. 什么是Istio？
2. istio 提供了哪些功能？
3. istio 的组件以及功能？
   1. Pilot
   2. Mixer
   3. Citadel

4. 什么是SideCar模式？
5. SideCar 模式是如何运行的？
6. SideCar 注入详解？

### 压力测试

1. `Jmeter`

## 第七章  项目管理

### 服务监控

1. `Prometheus`（需要结合K8s进行使用）
2. `Grafana`（可视化工具，结合`Prometheus`使用）
3. `Zabbix`

### 日志采集

1. `Flume`（主要使用方式 Data -> Flume -> Kafka -> Hbase/Spark）
2. `ELK`

### 工作流

1. `JBPM`
2. `Activiti7`
3. `Flowable`
4. `Snaker`
5. `compileflow`
6. `Camunda`（目前看起来是个不错的版本）

## 第八章 源码

1. `ArrayList`
2. `LinkedList`
3. `Vector`
4. `Stack`
5. `Queue`
6. `AQS`
7. `String`
8. `StringBuilder`、`StringBuffer`
9. `Mybatis`
10. `Spring`
11. `Spring Boot`
12. `Nacos`
13. `Ribbon`
14. `Feign`
15. `Ribbon`
16. `Hystrix`

## 第九章 线上问题处理

### 秒杀库存扣除优化

####  问题

##### 描述

多线程情况下，查询和扣减库存是直接update去控制的，当满足条件的时候直接进行扣减，本质上保持了一个行锁，性能方面存在优化的空间

##### 优化方案

1. **批量的进行扣减**
   1. 将多个请求合并成一个IO请求，批量的进行扣减
      1. 如果达到某个数量，或者超过某个时间即便没有达到阈值数量也可以进行扣减
      2. 启动异步线程进行扣减（分布式事务）
         1. 扣减超时：
         2. 扣减库存失败：
      3. 如果并发的请求很高，我们在生成一个队列，进行处理请求
   2. 批量扣减的时候，如果数量不满足，批量扣减退化为一个循环，优先满足购买数量多的用户
2. **降低Sql锁的力度，提供数据库并发能力**：（一个事务，本质上就是update然后insert，在update的时候，就会持有锁），所以逻辑可以改为先insert然后在进行update，从而降低锁得持有力度，时间上就会得到很大的优化

### 文件系统性能优化

####  问题一

##### 描述

大文件上传，如果这个服务的使用量上来了，那么就会导致内存被撑爆

##### 优化方案

对大文件进行拆分，分片上传，具体方案：

1. 拆分后的文件都有一个文件id和拆分后的编号
2. 确认编号是否都已经收到
3. 然后收到之后，由其他的Service进行合并

功能完善：

1. 如何确认文件上传之后的完整性：通过MD5文件完整的校验

#### 问题二

##### 描述

文件拆分后，上传有时会变得很慢

原因：文件用Base64读到内存当中是一个字符串对象，在内存中存起来，压测的时候，内存使用一直很高，因为对象比较大，所以每次都会直接放入到老年代当中，后来导致每一次请求，可能导致FullGC，甚至可能会报错

##### 优化方案

+ 第一阶段，将内存垃圾收集器切换到CMS，会好一些，但是CMS是一个标记清楚的收集器，会导致浮动垃圾比较多，最后看到内存空间虽然还有，但是每一次上传文件都要去找合适的空间去分配，然后没有合适的空间，CMS又会启动一个串行的老年代收集器，也是很慢
  + 所以现象就是大部分时间上传文件会比较快，但是偶尔上传文件会很慢，可能需要花费几十秒
+ 第二阶段：切换到G1，这种情况变少了，但是会有内存使用率比较底的情况
  + 原因是：G1里面是分块存储数据的，有些文件块比较大，就可能占用了两个内存块取存储，导致新增的文件快找不到合适的空间存储，而被占用的内存块不会再存取其他数据，导致了一些浪费
  + 解决方案：配合前端分割文件的大小去定义G1中每个分块的大小，让内存的控制率小了

相关阅读资料：[垃圾回收器](https://blog.csdn.net/Simon_09010817/article/details/105457306?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522167038564116782388086622%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=167038564116782388086622&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-2-105457306-null-null.142^v68^pc_rank_34_queryrelevant25,201^v4^add_ask,213^v2^t3_control2&utm_term=Parallel%20Old%20%E4%B8%8E%20G1%20%E4%B9%8B%E9%97%B4%E7%9A%84%E5%8C%BA%E5%88%AB&spm=1018.2226.3001.4187)



### 12306系统设计

#### 难点概述

+ 流量（相当高并发的流量，会瞬间将系统击垮）
+ 数据库设计（车票不同路段的设计）

#### 流量处理

1. 流量分发：通过业务手段实现，不同车次的火车票，错峰售发
2. 限流策略：验证码、2s内只允许点击一次等方式进行限流，避免灰色流量
3. 缓存自动扩容：结合云处理器，高峰时刻进行动态扩容，他缓存使用的是Pivotal Gemfire

#### 表结构关系

火车与票之间的数据库是如何设计的？

它是一种组合的动态数据设计 比如 

+ 商品A+商品B,合并成为商品C进行售卖，
+ 如果商品B没有了，那就只能售卖商品A



### 线上蓝绿发布过程中，部分节点异常

#### 现象描述

线上发布，报错的接口是一些还没有发布的节点报错，已经启动的节点没有报错，所以通常回滚的方案并不能够解决现有问题

#### 原因剖析

数据库实例连接数紧张：因为启动的服务依赖数据库，所以每个应用启动的时候，都是一个初始值-最大值，部分节点拿不到数据库连接，所以应用就启动不起来，通过分析就是其他一些服务做了扩容，也依赖了数据库实例，所以数据库链接数就变得紧张起来

#### 解决方案

+ 最快速的解决方案：就是 DBA 修改数据库的最大链接数
+ 通常的解决方案：
  + 不要让所有的服务都去访问你的数据库，不对外暴漏你自己的数据结构，最好有一个服务去负责你的数据库访问，
  + 通过一个代理取访问数据库，由代理统一来访问数据库

#### 思考：

+ 分库分表
  + 分表是因为表太大了
  + 分库是为了提升数据库的连接数，提升数据库的吞吐量，**但是分库如果在一个数据库示例中**，实际上仍然是共享一个数据库实例的连接数，并没有实际上提升数据库的吞吐量
+ 发布方式：最好还是使用滚动，当然不一定滚动会比蓝绿好，蓝绿在整个集群的一致性上面就会必滚动发布要好

### 项目中遇到未预期的风险，如何处理？

+ 报告上级
+ 判断问题能否解决
+ 影响范围

### 对接第三方接口需要注意什么？

+ 接口的安全性
+ 接口的稳定性
+ 接口的访问限制（比如费用）待、线程阻塞等原因造成CPU上下文切换
  + CPU资源过度消耗：创建了大量线程或者有线程一直占用CPU（死循环）
+ 解决方案：Top命令找到CPU消耗过高的线程

  + 情况1：CPU利用率过高的始终是用一个线程，这个时候可以使用jstack获取线程的Dump日志，然后定位问题代码
  + 情况2： CPU利用率过高的线程ID不断变化，说明线程创建过多，这个时候，需要挑选几个线程ID去查看Dump日志进行排查 ，最终的结果可能是程序正常，只是当访问量突然变大的时候，导致系统的资源不够，CPU的使用率会突然飙高

### 有一个数据一亿的表，如何进行分库分表以及数据迁移

+ 先观察表，找到一个均与分布的字段，这个字段可以作为一个天然的哈希路由的基准，然后还要结合业务， 判断分表是否合理
  + 比如一张表中有用户Id、订单ID、商户ID
  + 然后看看实际的业务场景，看看哪一个字段的查询场景会更多，如果是根据用户ID查询的频率最高，那么就可以根据用户ID进行路由，这样的话，后期统一用户的数据就会落到同一个数据库，避免了多个数据库之间的交互
  + 如果一些数据按照时间维度统计，那么我们还可以按照年、月、日这样的维度来分
+ 旧数据如何迁移？
  + 方案一：停机迁移，可以是一些小的网站，凌晨时间，不对外提供服务，然后使用写好的数据迁移脚本进行数据迁移，不过这个方案的用户体验不会太好，如果迁移失败，可能需要重新迁移
  + 方案二：双写+同步迁移
    + 新的数据同时写入新表和老表，但是查询仍然使用老表，如果使用一段时间后，新表插入数据没有问题，就可以进行数据迁移，最后对数据进行完整性校验
    + 双写的实现：
      + Mybatis的拦截器
      + Canal+MQ通过订阅的方式进行数据同步，可以在开启双写之前记录一下双写的时间点，然后分批的去迁移，最后要避免在业务的高峰期进行数据迁移
+ 最后增加切换数据源的开关，在完成数据迁移之后，切换到新的数据源



### 如何设置一个线程池的大小？

1. 原则：CPU密集型（大量计算的工作），线程越少如果是IO密集型，CPU的线程数可以更大一些
2. 线程平均工作的时间越长，线程数就应该越少，线程平均等待时间比例越高，线程数就应该越多
3. 针对不同的业务场景，需要通过压测，然后调整线程数，获得一个最合适的数量
4. 通常来说，默认的IO密集型的线程数会是CPU核心数的2倍到3倍

### 每天100w次登陆请求, 如何设置JVM参数？

### CPU使用率100%



## 第十章 系统设计

### 高并发系统

**谈谈你对于高并发的理解**？

+ 概念

  流量比较高，同时会持续一段时间，这段时间，服务应该要保证稳定运行，同时不因为流量的增加，而导致服务的处理速度产生太大的变化

+ 如何应对高并发？此时其实需要考虑具体的业务场景，是哪一类型的高并发业务，高并发读、写？下面是一些通过的高并发处理手段

  + 预估系统能够承受的最大流量，做好系统的限流措施（过高的流量可能不会让系统崩掉，但是也会让系统的整体性能降低很多）
  + 系统拆分，横向增加系统的吞吐量
  + 针对性能瓶颈的部分，增加机器节点、设计缓存（适合读多写少的场景）
  + 提升单个接口的处理速度：加入多线程、异步等手段
  + 服务降级，关闭不需要的服务，集中资源
  + 分库分表，提升数据库的吞吐量，降低数据库的IO僻静
  + 读写分离：适合读多写少的场景
  + ES 搜索：针对一些全文搜索的业务，完全可以脱离数据库去做

+ 高并发注意事项

  + 前端限流
  + 增加消息中间件，避免太高的流量造成服务雪崩，（对于高并发的写场景，也能够增加保护的作用）

+ 高并发的常见处理方式？

  + 找到影响我们现在系统的瓶颈，然后去处理，将大问题拆解，然后分而治之，将流量进行分解
  + 预估系统能够承受的最大流量，做好系统的限流措施（过高的流量可能不会让系统崩掉，但是也会让系统的整体性能降低很多）
  + 扩容，增加机器的方式（可以采用多机房的处理方式），dns动态分流
  + cnd缓存
  + 多级缓存设计
  + 系统弹性扩容，机器动态增加
  + 双十一这种，可以采用服务降级，将一些无关的服务停掉，将更多的资源集中到核心服务当中

### 谈一下你的分布式任务调度项目？

+ 设计产品的原因：公司想提升自研实力，正好当时接了一个定时清理系统，所以我们决定开始自研一个分布式任务调度系统
+ 技术架构：Spring Boot、Quartz、OkHttp3、Mysql
+ 架构组成：
  + 调度框架的Leader：负责集群监控、任务分发、任务容错
  + 调度的Follower：负责任务的执行、负载均衡
  + worker：任务的真正执行者
+ 网络拓扑图：
  + 定时服务启动时想调度系统注册接口信息，
  + 调度系统将注册的信息保存到数据库当中，
  + 然后用户可以更具调度系统提供的Api对定时任务进行操作：启动、停止、删除

+ 调度系统的特点有：
  + 高可用：服务之间可以采用集群的方式启动，集群中会有个Leader服务，负责follower节点的状态监控、任务分发，当Leader节点奔溃，其他follower节点会进入选举模式，实现原理通过数据库实现分布式锁，获得锁的服务自动成为Leader，然后向集群中的节点广播这个信息，为了保证锁不会过去，其他follower节点会定时检查获得锁的服务是否挂掉
  + 定时任务容错：定时任务运行时会在数据库写入它的运行信息，包含了：调度服务的follower节点、Corn表达式、上一次运行时间、下一次运行时间、任务是否正在运行等，如果Leader服务发现定时任务异常，会对定时任务进行重新执行
  + 高性能：任务调度采用了异步的方式执行，获取得到的日志结果，也会异步写入到数据库当中
  + 负载均衡：支持执行任务的工作节点进行负载均衡：随机、轮训、加权
  + 执行分片任务，调度器可以讲请求参数拆分，然后在工作节点的集群当中执行

### 即时聊天系统

1. 一对一聊天
2. 一对多聊天
3. 群聊系统设计

### 微博系统设计

1. 关注与被关注数据库设计
2. 微博数据库设计
3. 查看某个明星的一亿粉丝列表
4. 某个明星发送一条微博，如何推送给他的一亿粉丝
5. 微博热点设计

### 百万观众在线直播

1. 如何保存直播间的信息？
   + 可以采用ZK，在每个节点维护一个直播间的列表，一个单独服务器去维护直播用户列表，当收到这条弹幕的列表
   + 通过一个任务中心一样，然后通过分片任务的形式，有其他节点采用多线程的方式，发送弹幕到其他用户，因为不是什么太重要的数据，所以不用抢一致性，部分用户看不到，其实也没有什么大不了的

### 电商系统设计

### 打车软件系统设计

### 设计一个统计程序员代码注释量的系统？

+ 详细数据表
+ 统计数据表
+ 集群部署形式的服务端与客户端是长连接，当服务端采用波浪形式的方式重启时，会发现有部分服务端的链接会很多，但是有的服务端链接很少，造成一种负载不均衡的现象

  + 其实情况类似于Kafka再平衡机制，当集群内的节点数量发生变化时，可以有一种再平衡机制，将现有客户端平均分配到现有的集群中的工作节点当中。
  + 这个时候可以有一个注册中心，来实现服务的上下线感知功能，然后触发客户端与服务端的重连，对现有的集群服务进行负载均衡



### 红包雨架构设计

**描述：**

1亿红包，3000万人强，红包数量1000万个，TPS预计百万，如何设计

**尝试沟通问题：**

1. 每个红包额度大小是否相等？
2. 每个用户的红包数量是否有限制？

**关注点**

1. **高性能**：保证用户体验
2. **高可靠**：不能超发
3. 高可用

**设备情况**

+ 负载均衡选择
  + Nginx 万级别（不满足），一般能到5万/s
  + LVS 十万级别 80w/s
  + 商业服务器F5，百万级别，可以达到200万/s~800万/s
+ 如果不想用负载均衡方案，可以使用固定机房+DNS的方式，每个机房固定多少红包，每个地区的用户访问自己的地区机房，然后抢红包之后，通过MQ同步到用户的账户中
+ 按照20个机房计算，每机房也要有50万TPS左右的访问量，这个时候可以使用Redis，按照每个8万计算，可以部署8个服务，然后每个Redis实例存储一个拆分好的红包的 id+红包金额的List，抢红包的时候用Lua脚本从List中 pop 一个元素同时记录到另一个List中，记录用户uid+红包ID+红包金额，然后定时任务集群不断从Redis集群中消费这些数据，批量插入MySql数据库，同时使用MQ通知用户账户入账
  + 可以提前生成每一个红包的金额，不进行实施计算
  + 动态限流，减少无效请求
  + 内存队列，避免争抢
  + 转账异步化
+ 同时我们可以使用uid对Mysql进行分库分表
+ 注意点：中间件的高可用、无状态服务的弹性伸缩、压测和限流

### 亿级日志收集系统

**规模：**

+ 1600亿条/天-280万条/秒-300TB/天

**方案：**

+ 14年：SDK+Socket+MongoDB

  + 经常IO阻塞

+ 14-15年：ELK：比较小、传统公司可以采用

  + logstash 存在瓶颈，承载不了峰值压力
  + ES鼓掌是影响比较大
    + 故障时：logstash产生大量日志挤压
    + 恢复时：产生泄洪，瞬间打垮ES（IO、CPU压力大）
  + 方向：将采集和存储解耦

+ 16年之后：agent+kafka+flume+es

  + 采集和存储进行了解耦
  + flume相对于logstash更快
  + 新问题：
    + flume基于能存、会比较吃内存，解决方案：加内存
    + kafka假死现象：如果分区出现消息挤压，强制kafka断开链接，重新rebalance

+ 现在架构：Es多集群，对于日志的优先级进行拆分

  + LV1集群：15%小规模、核心应用，高标准、性能强
  + LV2集群：85%大规模，核心应用+高频应用，高保障、性能优
  + LV3集群：X%总量，warm节点，实时性要求低，性能一般
  + 冷热分离：Hot节点使用SSD高配，支持实时数据，Warm节点，存储历史数据

### 介绍一下你现在的项目架构？



# 技术管理

## 项目开发流程

1. 需求调研（产品经理）
2. 需求评审（产品/设计/前端/后端/测试/运营）

3. 立项（项目经理、品管）

4. `UI`设计

5. 开发

   - 架构、数据库设计、`API`文档、`MOCK`数据、开发、单元测试	

   - 前端

   - 后端

6. 前端后端联调

7. 项目提测：黑盒白盒、压力测试（`qps`）`  loadrunner`

8. `bug`修改

9. 回归测试

10. 运维和部署上线

11. 灰度发布

12. 全量发布

13. 维护和运营

## 技术选型

1. 你是如何进行技术选型？

## 敏捷开发

1. 什么是敏捷开发 ？
2. 为什么要使用敏捷开发 ？
3. 敏捷开发的方式有哪些 ？
4. 如何指定一份敏捷开发计划 ？
5. 媒介开发的执行和监控 ？
6. 敏捷开发的度量标准？
   1. 版本响应时间
   2. bug响应时间
   3. 内部和外部质量


## UML

1. 用例图：描述用户和实例之间的关系
2. 类图：描述各个类之间的关系
3. 对象图：对象之间的关系
4. 状态图：事件发生时的状态转移条件
5. 活动图：描述用例活动之间的约束关系
6. 时序图：程序之间的相互调用关系
7. 协作图：用户、系统之间是如何通信的
8. 构架图：描述系统之间组件的关系
9. 部署图：系统硬件的部署形式

## 开发常用图

1. 系统架构图：系统对外展示
2. 时序图：系统模块之间的调用
3. 程序流程图：程序运行的流程
4. 状态流转图：除了关心业务处理逻辑，还需要关心对象的状态（比如订单的状态：支付、取消、配送、已完成等等）

## 技术文档

1. 软件需求文档
2. 概要设计文旦
3. 详细设计文档
4. 开发进度月报
5. 项目开发总结报告
6. 上线计划文档
7. 测试计划
8. 测试分析报告
9. 用户操作文档
10. 软件问题文档
11. 软件修改文档

## 其他文档

1. ER 图：实体——属性——关系 图

## 管理方案

项目流程

1. 需求分析
2. 具体功能点
3. 功能模块设计
4. 模块设计决定项目架构
5. 项目架构然后进行技术选型
6. 数据类型

## `OKR`

1. 为什么会有`OKR`？
2. `O` 代表什么？ `KR` 代表什么？
3. `Smart` 原则？
4. 如何制定`OKR`？
5. 大公司与小公司的`OKR` 在执行上有什么不同的作用？
6. `OKR` 的生命周期？

# 云原生

## 概念

1. 什么事云计算、云原生？
2. 云服务的三种模式：Laas、Paas、Saas

## k8s

### 基本概念

1. 什么是K8s？
2. K8s应用管理的生命周期？
3. Master 的组件有哪些？
   1. API Server
   2. Scheduler
   3. Controller Manager
   4. Etcd
4. Node 的组件有哪些？
   1. Kubelet
   2. Kube-proxy
   3. Pod
5. K8s基本概念？
   1. Replication Controller
   2. ReplicaSet
   3. Deployment
   4. Service
   5. Label
   6. Volume
   7. Persistent Volume


### 使用实操

1. 创建Pod的过程？
2. 删除Pod的过程？
3. Kubernetes如何进行优雅的节点关机维护
4. Pod的重启策略有哪些？
5. Pod的常见调度方式有哪些？
6. Deployment的升级过程、升级策略？
7. Service的四种类型？
8. Service分发后端的策略？
9. 镜像的下载策略？
10. 数据持久化的方式有哪些？
11. K8s的CSI模型？

## Istio

1. 什么是服务网格？
2. 什么是Istio？
3. Istio的三大组件是什么？
   1. Pilot
   2. Mixer
   3. Citadel
4. SideCar模式？

## Devops

1. 什么是`CI`、 `CD`？
2. 为什么要有`Devops`？



# 大数据部分

## 概述

1. 谈谈你对大数据的理解？
   1. 什么大数据？
   2. 常见的数据存储单位？
   3. 大数据的处理难点？
   4. 大数据有哪些特点？
   5. 大数据常见的应用场景？

2. 大数据的业务处理步骤？
3. 简述大数据岗位有哪些？

## Hadoop

### 概述

1. 什么是Hadoop？
2. Hadoop 解决了什么问题？
3. Hadoop 的重要组成部分？
4. Hadoop 的优势是什么？
5. Hadoop 与 Hadoop生态的概念？
6. Hadoop 的三种运行模式？

### HDFS

1. 什么是HDFS，它的作用是什么，为什么要使用HDFS？
2. HDFS的优缺点是什么？
3. HDFS 的组成架构？
4. HDFS文件块的特点有哪些，如何设置大小？
5. HDFS文件写入流程？
6. HDFS文件读取流程？
7. NN与2NN的工作机制？
8. Secondary-NameNode 介绍？
9. DateNode的工作机制？
10. HDFS文件块的大小设置，增大或者减小会有什么影响？
11. HDFS小文件存储可以如何进行优化？

### MapReduce

1. 什么是MapReduce？
2. MapReduce 的优点和缺点？
3. MapReduce 的核心思想？
4. MapReduce 的进程分类有哪些？
5. MapReduce 的工作流程？

### Yarn

1. Yarn 的基本概念
2. Yarn 的基本架构
3. Yarn 的工作机制
4. 作业的提交全过程
5. Yarn 的调度算法



## Hive

### 概述

1. 谈谈对于数据仓库的理解？
   1. 数据仓库的概念？
   2. 数据仓库的特征？
   3. 关于OLTP、OLAP？
   4. 数据仓库的分层架构？

2. 谈谈对于Hive的理解？
   1. 什么是Hive？
   2. Hive有哪些优缺点？

3. Hive的基本架构？

## HBase

### 概述

1. 什么是HBase，为什么要使用HBase？
2. HBase有什么特点？
3. Hbase 的数据模型
   1. Name Space
   2. Region
   3. Row
   4. Column
   5. TimeStamp
   6. Cell
4. HBase 的基础架构
   1. Region Server
   2. Master
   3. Zookeeper
   4. HDFS

### 核心工作机制

1. 文件架构
2. 写数据流程？
3. MemStore Flush？
4. 读数据流程？
5. StoreFile Compaction？
6. Region Split？





## Spark

### 概述

1. 谈谈对于分布式计算的理解？
   1. 什么是分布式计算？
   2. 什么是离线计算？
   3. 什么是实时计算？
   4. 离线数据处理架构师怎么样的？
   5. 实时数据处理架构是怎么样的？
2. 探头对于Spark的理解？
   1. 什么是Spark？
   2. Spark与Hadoop之间的关系？
   3. 为什么要使用Spark？
   4. Spark的核心模块有哪些？
      1. spark core
      2. Spark Sql
      3. Spark Streaming
      4. Sprak MLlib
      5. Spark Graphx
3. Spark的运行模式有哪些？
4. RDD的核心组件有哪些？
   1. Master
   2. Worker
   3. Driver
   4. Executer

5. RDD常见术语：DAG、TaskScheduler、Task、Job、Stage、RDD、Transformation/Action
6. RDD的Transformation/Action有什么区别？
7. Shuffle数据块的不同存储方式？
8. 那些算子会有Shuffle？
9. RDD的优缺点？
10. Sprak作业提交流程？
11. Spark对比MapReduce

### 核心理论

1. Spark的核心组件有哪些？
2. 其他概念
   1. 并行度
   2. 有向无环图
3. Sprak任务的提交流程
4. Spark有哪三种数据结构？
5. Spark中缓存和检查点的区别是什么？
6. 什么是Spark Sql？
7. 什么是Sprak Streaming，实现原理是什么？

## Flink

### 概述

1. 什么是Flink？
2. 对比Spark，有什么特点？
   1. 架构模型
   2. 任务调度
   3. 时间机制
   4. 容错机制
   5. Github Star 情况
3. 为什么要使用Flink？

### 面试题

1. Flink必须要依赖Hadoop么？
2. Flink集群中都有哪些角色？
3. Task Slot的概念？
4. 作业提交的流程是什么样的？
5. 数据流转图？
6. Flink的并行度，如何设置并行度？
7. Flink的常用算子有哪些？
8. Flink的基本数据类型？
9. Flink的分区策略？
10. Flink的广播变量？
11. Flink的窗口？
12. Flink的时间有哪几类？

## 离线数仓

1. 数据仓库的分层架构是怎么样的？
   1. ODS：原始数据层
   2. DWD：明细数据层
   3. DWS：汇总数据层
   4. DIM：公共维度层
   5. ADS：数据应用层

2. 数据建模
   1. 数据建模的意义？
   2. 数据建模有哪些方法论？
3. 数据仓库设计
   1. 数据域
   2. 业务总线矩阵
   3. 数据统计指标：原子指标、派生指标、衍生指标
   4. 维度模型设计
   5. 汇总模型设计
4. 技术选型
   1. Flume，
      1. 从磁盘中读取log日志，发送到Kafka
      2. 可以从kafka中读取db数据，然后发送到Hdfs中
      3. 可以从kafka中读取log数据，然后发送到Hdfs中
   2. kafka：大数据量传输
   3. MaxWell：从binlog中读取日志数据，然后发送Json数据到Kafka中，经过Flume采集到Hdfs当中，所以增量表中的数据，可以是Json文本数据
   4. DataX：数据库全量数据复制，进行导入导出
   5. Hadoop：大数据文件存储
   6. Hive：HQL执行分布式计算
   7. Spark：计算引擎
   8. DolphinScheduler：调度器
   9. Mysql：业务数据存储、报告数据存储
   10. SuperSet：数据可视化工具


## 实时数仓

### 技术选型

1. 分层存储：
2. 计算框架：flink，消息队列Kafka
3. ODS：Kafka
4. DIM： HBASE 或者 Mysql
5. DWD：ClickHouse
6. ADS：Mysql

#  前端部分

### 基础部分

#### `Html`

#### `CSS`

#### `JS/TS`

### UI开发框架

1. `Element UI` -> `Vue2`
2. `Element Plus` -> `Vue3`

### 前端开发框架

#### 概念

1. 三种开发框架的对比
1. 目前来说 `React` 和 `Vue` 都比较流行，`Angular` 在市场的上份额反而越来越小

#### 1.` Vue`

1. `Vue2` 、`Vue3`
2. `Vuex`
3. `Axios`
4. `Vue router`
5. `Vite`
6. `Nuxt`

#### 2. `React`

#### 3. `Angular` 

### 微前端

#### `Single-SPA`

#### `QianKun`

### 个人建站工具

1. [VuePress](https://www.vuepress.cn/)
2. [Docsify](https://docsify.js.org/#/zh-cn/)
3. Hexo
4. GitBook

# 深度学习

## 机器学习

1. 算法实现的过程？
2. 常用的推荐算法分类？
3. 什么是特征工程？

## 推荐系统

1. 推荐算法产生的目的？
2. 推荐算法的基本思想？
3. 推荐系统的数据分析？
4. 常见推荐算法简介？
5. 相关的度量标准：准确率、精确率、召回率？
6. 机器学习的分类
   1. 监督学习
   2. 无监督学习
   3. 强化学习
   4. 深度学习
   5. 集成学习
7. 推荐算法详解三类
   1. 基于人口统计学
   2. 基于内容推荐
   3. 协同过滤
8. 隐语义模型的工作原理
