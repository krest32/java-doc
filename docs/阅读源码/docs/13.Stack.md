# Stack

## 说明

本文主要针对`Jdk 8`进行解读， 不同版本之间可能存在一定的变化



## 特性

1. 继承自Vector，所以Stack底层也是通过数组来实现的，
   1. 一组连续的数组空间，
   2. stack线程安全
2. `Stack`特点先进后出
2. 所有方法其实是调用`Vector`中的线程安全的方法



## 新建

~~~java
public class Vector<E>
    extends AbstractList<E>
    implements List<E>, RandomAccess, Cloneable, java.io.Serializable

~~~



## 新增元素

~~~java
public E push(E item) {
    addElement(item);

    return item;
}

public synchronized void addElement(E obj) {
    modCount++;
    ensureCapacityHelper(elementCount + 1);
    elementData[elementCount++] = obj;
}
~~~



## 移除元素

~~~bash
    public synchronized E pop() {
        E obj;
        int len = size();

        obj = peek();
        removeElementAt(len - 1);

        return obj;
    }
    
    public synchronized void removeElementAt(int index) {
        modCount++;
        if (index >= elementCount) {
            throw new ArrayIndexOutOfBoundsException(index + " >= " +
                                                     elementCount);
        }
        else if (index < 0) {
            throw new ArrayIndexOutOfBoundsException(index);
        }
        int j = elementCount - index - 1;
        if (j > 0) {
            System.arraycopy(elementData, index + 1, elementData, index, j);
        }
        elementCount--;
        elementData[elementCount] = null; /* to let gc do its work */
    }
~~~

