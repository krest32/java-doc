# 常见系统功能实践

## 环境准备

### Maven私服搭建

+ Nexus

### 持续集成环境搭建（推荐）

+ GitLab-私服代码仓库（推荐）
+ Jenkins-持续集成
+ Docker-镜像管理
+ Harbor-镜像仓库
+ Sonarqube-代码质量检测

### K8s环境（可选）

如果公司的服务的体量不是很大，更加推荐Jenkins+Docker的方式去实现

### 数据存储

+ 数据持久化
  + Mysql（个人对Mysql比较会比较熟悉）
  + PgSql
  + Orcal
+ 缓存服务
  + Redis
+ 消息队列
  + RabbitMQ（界面会更加友好）
  + RockerMQ（性能更加卓越）
+ 搜索引擎
  + ES
+ 超大大数据量
  + 分库分表中间件
    + Sharding-Proxy（推荐）
    + MyCat
  + 分布式数据库（推荐）
    + TiDB
    + OceanBase
  + NoSql
    + Hadoop+Hase

## 微服务配套

### 注册中心

+ Nacos（推荐）
+ Eureka
+ Zookeeper

配置中心

+ Nacos（推荐）
+ Config

### 网关

+ Gateway

### 限流（可选）

+ Sentinel

### 链路追踪（可选）

+ Sleuth + Zipkin
+ Skywalking（推荐）
  + Mysql 
  + ES（推荐）

### 任务调度中心

+ XXL-job（推荐）

## 项目前期规划

### 代码架构

+ MVC 传统三层架构 
+ DDD 领域驱动设计

### 在线接口文档

+ 单体服务 -> Swagger
+ 微服务-> 网关 + Knife4j + Swagger

### 统一日志处理

+ 日志保存在服务器（小型系统推荐）
+ 日志保存在ES中（大型系统推荐）

### 代码规范的确认

+ 阿里巴巴代码规范（推荐）
+ 如有需要，可以自定义代码规范

### 技术选型

+ 微服务架构
  + Spring Cloud（推荐）
  + Dubbo
+ ORM 框架
  + JPA
  + Mybatis-plus（推荐）
+ 配置数据加密：Jasypt

## 代码模块规划

### 描述：

基础版本的系统模块功能划分

~~~
|---base-parent
|---base-module
|  		|---entity
|  		|---Dao
|  		|---Constant
|---base-common
|---sys-integrate
|---sys-gateway
|---sys-common
|  		|---dict
|  		|---file
|       |---email
| 		|---log
|  		|---other
|---biz-admin
|---biz-...
~~~

### base-parent

所有模块的父依赖，所有依赖的版本，所有模块必须导入

### base-module

+ entity 实体类与数据库的表字段一一对应
+ Dao 操作数据库的Dao接口
+ Constant 整个系统中系统常量

### base-common

项目基础工具包

### sys-integrate

所有的Feign调用接口，全部写入该模块中，该模块导入后，其他模块可以直接使用，进行Feign调用

### sys-gateway

网关

### sys-common

公共服务，全系统公用

+ dicr 字典管理
+ file 文件处理
+ email 邮件管理
+ log 日志管理
+ 其他....

### biz-admin

+ 用户管理
+ 权限管理

### biz-...

其他的业务系统模块

