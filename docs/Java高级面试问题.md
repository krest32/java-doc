# Java高级

1. 谈谈对于Java的理解？

   + 什么是Java？
   + Java的应用场景？
   + Java有什么特点？
   + 对比其他语言？

2. 谈谈你对于枚举的理解？

   + 什么是枚举？
   + 枚举有什么特点？
   + 枚举可以做哪些事情？

3. 谈谈你对于面向对象的理解？

   + 什么是面向对象？（顺便解释面向过程）
   + 面向对象编程的6大原则？
   + 什么是API和SPI？
   + 抽象类和抽象接口的区别？

4. 谈谈你对于IO的理解？

   + 什么是IO？
   + IO的分类有哪些？输入、输出、字节、字符、文件、BIO、NIO、AIO
   + BIO、NIO、AIO的使用场景？
   + 如何优化IO的使用场景？
   + 扩展Linux IO？

5. 谈谈你对于序列化的理解？

   + 什么是序列化？
   + 序列化如何实现？
   + 关键字transient左右？
   + 现在主流的序列化方式有哪些？
     + 同样的内容，Json是protobuf内存占用大概三倍左右

6. 谈谈你对与异常的理解？

   + 什么是异常？
   + 异常有哪些分类？
   + 常见的异常有哪些？
   + 异常的处理方案？

7. 谈谈你对于泛型的理解？

   + 什么是泛型？
   + 为什么要使用泛型？
   + 泛型擦除（类型擦除）的概念？

8. 谈谈你对于集合容器的理解？

   + 什么是集合框架？
   + Java的Util包下，有哪些集合的接口和类？

9. 谈谈你对于网络编程的了解？

   + 什么是网络编程？

     网络编程是指网络上的主机通过不同的进程，以编程的方式实现网络信息传输。而提到网络编程的话，就需要知道一个网络编程套接字socket（操作系统提供的网络编程的API），**这是传输层和应用层之间进行调用的接口**，也就是操作系统给应用程序提供的API，一调用这个就可以和内核之间进行信息传递，那么在传输层内两个主要的协议TCP/UDP，就得了解。

   + TCP/IP 如何分层？

   + 描述一次网络传输的流程？

   + 为什么会有三次握手、四次握手？（建立可靠连接，确保数据传输完毕）

   + Http与Https，其中SSL的工作方式？

10. 谈谈你对并发编程的理解？

    + 什么是并发编程/多线程？
    + 并发编程的三要素？
    + 如何处理并发造成的一些问题？安全性、可见性、有序性？
    + 线程安全的处理方式通常有哪些？
    + 线程安全方式之间的对比？synchronized 与 lock
    + Synchronized锁升级的过程？
    + 创建线程的集中方式？
    + 线程池的七大参数？
    + 并发容器有哪些？

11. 谈谈你对与JVM的理解？

    + 什么是JVM？
    + JVM有哪些分类？
    + JVM的主要组成部分，以及各个部分的功能？
    + JVM的最大特点是什么？自动的垃圾回收机制？
    + 垃圾收集器有哪些种类？相互之间如何组合工作？
    + 类加载器的工作原理？

12. Class 文件解析？

13. 谈谈你对与Mysql的理解？

    + 为什么要使用数据库？
    + 为什么选择Mysql？
    + 常用的字段类型有哪些？
    + Mysql的存储引擎？
    + Mysql的索引结构（分类、设计原则、索引优化原则）？
    + 谈谈什么是事务？Mysql 如何实现ACID？
    + 什么是MVCC？
    + 脏读、不可重复读、幻读、事务的隔离级别

14. 谈谈你对于Sql的理解？

    + 什么是Sql？
    + Sql的执行顺序是怎么样的？
    + 什么是Sql优化？
    + 如何进行Sql优化？
      + 数据库数据量太大？-分库分表
      + 热点数据查询？-增加缓存
      + Sql代码不合理？
        + 删减无用字段
        + 是否使用到索引？-使用explain进行分析，然后优化不合理里的Sql

15. 谈谈你对于Redis的理解？

    + 为什么要使用缓存？
    + 什么是Redis？
    + Redis为什么高性能？
    + Redis的数据结构有哪些？
    + 关于Redis的持久化机制的理解？（高性能和数据0丢失方面，往往只能够满足一个条件）
    + Redis的过去Key删除策略？
    + Redis的内存淘汰策略？
    + 常见的缓存问题？缓存雪崩、缓存穿透、缓存击穿、双写一致性
    + Redis分布式锁的使用？
    + Redis 集群的理解？

16. 谈谈你对于Mybatis的理解？

    + 什么是ORM框架？
    + 原始数据库编程的痛点？
    + 什么是Mybatis？
    + Mybatis的工作流程是什么样的？
    + 插件机制的实现原理？

17. 远程调用都有哪些实现方式？

    + 根据链接方式建立可以分为TCP、UDP
      + Tcp会更加稳定一些
      + Udp效率会更高
    + 可以链接的维持方式，可以分为：长连接、短链接（Http）、单工通道、双工通道
    + 根据传输协议，可以有Sop（Xml）、Http（Json）、RPC（二进制）、自定义协议传输
      + Sop 重量级，解析Xml也会比较损失性能
      + Http 目前比较流行，虽然单独用在远程调用上比较浪费资源，但是可以做到不同语言系统之间的调用
      + RPC 基于二进制的传输协议，性能比较高，但是一般只用于同语言的系统之间
      + GRPC 目前可以跨语言支持RPC，支持C、Java、Python、Golang
    + 根据阻塞状态， 可以分为同步阻塞与同步非非阻塞

18. 与外部系统链接需要注意什么？

    + 定义接口文档：路径、传参、返回、异常、超时时间等
    + 异常处理：接口返回异常的处理方式
    + 日志收集：接口入参、出参、异常信息记录
    + 超时处理：抛出异常、失败重试
    + 涉及分布式事务：事务应该采用哪种实现方式？

19. 谈谈你对于Spring的理解？

    + 什么是Spring？
    + 为什么要使用Spring？
    + Spring的组成模块有哪些？
    + IOC的实现原理是什么样的？
    + 什么是循环依赖？循环依赖的分类？循环依赖如何解决？
    + AOP的实现原理是什么样的？

20. 谈谈你对于Spring Boot的理解？

    + 什么是Spring Boot？
    + Spring Boot自动装配的原理是怎么样的？
    + 如何自定义Starter？

21. 谈谈你对于Spring Cloud的理解？

    + 什么是Spring cloud?
    + Spring Cloud 对比 Dubbo，如何？
    + 它和Spring Boot之间的关系是什么样的？
    + Spring Cloud的组成有哪些？各自负责什么样的功能？

22. 谈谈你对于Netty的理解？

    + 什么是netty？
    + Netty 对比原生 Jdk Nio?
    + Netty 高性能的原因有哪些？
    + Netty 的组件有哪些？bootsrap、selector、channel、channelPipeline、channelHandler、channelFuture、NioEventLoop、NioEventLoopGroup
    + Netty 的使用场景有哪些？

23. 谈谈你对于消息队列的理解？

    + 什么是消息队列？
    + 为什么要使用消息队列？
    + 主流消息队列的对比？
    + 你们公司选择了哪个消息队列？为什么？
    + 常见的消息队列问题
      + 消息的可靠传输？
      + 消息的顺序消费？
      + 如何避免消息的重复消费？
      + 消息事务？
      + 消息积压的问题如何处理？
    + Kafka 高性能的原因？
      + 批量、零拷贝、顺序读写、数据压缩
    + RocketMQ 高性能的原因
      + 顺序写：顺序写比随机写的性能会高很多，不会有大量寻址的过程
      + 异步刷盘：相比较于同步刷盘，异步刷盘的性能会高很多
      + 零拷贝：提高了数据传输的效率

24. 谈谈你对于Docker的理解？

    + 什么是Docker？
    + 为什么使用Docker？
    + 关于Docker File?

25. 谈谈你对于分布式的理解？

    + 分布式的基本组成是什么？
    + 分布式业务拆分的方式？
    + CAP理论和BASE李云
    + 一致性有哪几个分类？

26. 谈谈你对于设计模式的理解？

    + 什么是设计模式？
    + 为什么使用设计模式？
    + 都用到过哪些设计模式？
    + 设计模式一定就好么？ 针对轻量对象，new更快，如果构造方法相对复杂，可以使用克隆模式

27. 谈谈你对于高并发的理解？

    + 什么是高并发？

      流量比较高，同时会持续一段时间，这段时间，服务应该要保证稳定运行，同时不因为流量的增加，而导致服务的处理速度产生太大的变化

    + 如何实现高并发？

      + 增加机器节点
      + 提升单个接口的处理速度
      + 服务降级，关闭不需要的服务，集中资源

    + 高并发需要注意什么？

      + 前端限流
      + 增加消息中间件，避免太高的流量造成服务雪崩

28. 谈一下你自己的分布式任务调度项目？

    + 设计产品的原因：公司想提升自研实力，正好当时接了一个定时清理系统，所以我们决定开始自研一个分布式任务调度系统
    + 技术架构：Spring Boot、Quartz、OkHttp3、Mysql
    + 架构组成：
      + 调度框架的Leader：负责集群监控、任务分发、任务容错
      + 调度的Follower：负责任务的执行、负载均衡
      + worker：任务的真正执行者
    + 工作流程：定时服务启动时想调度系统注册接口信息，调度系统将注册的信息保存到数据库当中，然后用户可以更具调度系统提供的Api对定时任务进行操作：启动、停止、删除
    + 调度系统的特点有：
      + 高可用：服务之间可以采用集群的方式启动，集群中会有个Leader服务，负责follower节点的状态监控、任务分发，当Leader节点奔溃，其他follower节点会进入选举模式，实现原理通过数据库实现分布式锁，获得锁的服务自动成为Leader，然后向集群中的节点广播这个信息，为了保证锁不会过去，其他follower节点会定时检查获得锁的服务是否挂掉
      + 定时任务容错：定时任务运行时会在数据库写入它的运行信息，包含了：调度服务的follower节点、Corn表达式、上一次运行时间、下一次运行时间、任务是否正在运行等，如果Leader服务发现定时任务异常，会对定时任务进行重新执行
      + 高性能：任务调度采用了异步的方式执行，获取得到的日志结果，也会异步写入到数据库当中
      + 负载均衡：支持执行任务的工作节点进行负载均衡：随机、轮训、加权
      + 执行分片任务，调度器可以讲请求参数拆分，然后在工作节点的集群当中执行

29. 谈一下你自己的消息队列项目？

    + 设计产品的原因：在完成分布式调度任务之后，我对自己提出了另一个比较高的要求，目标瞄准了消息队列
    + 技术架构：Spring Boot 、Netty、Protobuf
    + 架构组成
      + 注册中心：自研，负责worker的注册，保存了消息队列的信息：每个队列的配置信息、队列消费的偏移量，工作节点每隔一段时间，会将队列的数据同步给注册中心，注册中心会将数据持久化到文件当中
      + worker：真正的工作节点
      + 文件服务：负责数据的持久化操作
      + 生产者：消息的生产者
      + 消费者：消息的消费者
    + 工作流程
      + 先启动注册中心、然后启动worker和文件服务，worker想注册中心完成注册
      + 生产者与消费者，启动先访问注册中心，注册中心返回可用的worker节点的IP，然后启动Netty客户端，链接消息队列的工作节点
    + 消息队列的特点：
      + 支持多种功能：消费一对一、一对多，ACK模式，通过DelayQueue实现延时队列
      + 数据持久化：如果需要持久化，消息队列启动文件服务，将消息保存在磁盘当中，服务宕机，消息不丢失，同时每个消息都有自己的一个全局唯一ID，记录了消费者消费的偏移量
      + 副本机制：默认集群启动，每个队列的副本数量为2,
      + 注册中心的高可用：Leader宕机，注册中心进入到选举模式，每个注册中心节点都会存在一个Id，优先推举id最小的节点作为Leader，当推举数大于注册中心节点数量的一般是，该节点就是新的Leader。当然，也可以利用数据库，将Leader选举的流程进行简化
      + 当Worker节点挂掉的时候，生产者和消费者会重新链接到注册中心，获取得到可用的worker节点，如果集群中某个队列的副本数量小于配置，注册中心会开启队列数据的同步指令，这个过程采用UDP的方式进行传输
      + 消息队列的高性能：目前来说我写的Mq还有很多可以提升性能的地方
        + 引入堆外内存，实现零拷贝
        + 加入异步写机制
        + 数据持久化，批量写操作

30. 设计一个系统？

    1. 先解析这个业务的工作流程
    2. 都使用到了哪些技术？
    3. 设计数据库？
    4. 代码会有哪些功能接口？

31. 面向MQ编程的生产实践有哪些？

32. 谈谈你对于CI\CD的理解？

33. 谈谈你工作中常用的文档？

    + UML图有哪些？
    + 常用的技术文档？

34. 谈谈你对于云原生的理解？

    + 为什么要使用云原生？

    + 什么是K8s？

    + K8s的主要组件有哪些？

35. 谈谈你对于服务网格的理解？

    + 什么是服务网格？

    + 服务网格对比Spring Cloud？

    + 服务网格的实现原理？